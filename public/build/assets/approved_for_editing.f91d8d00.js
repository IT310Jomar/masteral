import{h as P}from"./moment.40bc58bf.js";import{d as J,a as s,aO as M,bM as z,Z as O,C,D as E,o as G,c as r,e as g,f as a,w as o,l as Z,M as e,aZ as A,aI as H,S as L,q as Q,bs as W,n as K,a1 as Y,s as u,bJ as X,F as $,G as w,W as l,E as y,a8 as V,i as h,a3 as f,bI as ee,bH as te,bt as ae,p as se,aF as le,aG as ne,U as oe}from"./main.dc3150f2.js";import"./jspdf.plugin.autotable.5f00a359.js";const v=m=>(le("data-v-135136ef"),m=m(),ne(),m),de={class:"me-3",style:{display:"flex",width:"10.5rem","align-items":"center"}},ie=v(()=>e("strong",null,"Show",-1)),re=v(()=>e("strong",null,"entries",-1)),ce={class:"app-user-search-filter d-flex align-center flex-wrap gap-4 justify-end"},ue={style:{display:"flex",width:"17rem","align-items":"center"}},_e=v(()=>e("thead",null,[e("tr",null,[e("th",{class:"text-center"},"No."),e("th",{class:"text-center"},"Assigned Editor"),e("th",{class:"text-center"},"Client Fullname"),e("th",{class:"text-center"},"Date of Request"),e("th",{class:"text-center"},"Client Uploaded File"),e("th",{class:"text-center"},"Editor Status"),e("th",{class:"text-center"},"Date of Editing")])],-1)),pe={class:"text-center"},me={class:"text-center"},ge={class:"text-center"},he={class:"text-center"},fe={class:"text-center"},ve={class:"text-center"},xe={class:"text-center"},ye=v(()=>e("br",null,null,-1)),Ve={key:0},be={colspan:"8"},De={style:{"text-align":"center"},class:"mb-5 mt-5"},Se=J({__name:"approved_for_editing",setup(m){JSON.parse(localStorage.getItem("editorData")||"null");const c=s([]),N=s(),_=s(),b=s(1),D=[5,20,50,100,500],p=s(D[0]);s(p.value);const x=s(b);s();const S=s(p);s(null),s(),s();const k=JSON.parse(localStorage.getItem("accessToken")||"{}"),U=M(()=>{const n=(b.value-1)*p.value,d=n+p.value;return c.value.slice(n,d)});let F=M(()=>c.value.length>0?Math.ceil(c.value.length/p.value):0);function R(){x.value=1}const j=()=>{C.get(E.API_URL+"auth/admin/search-editing-journal",{params:{query:_.value,token:k}}).then(n=>{n.data.success&&(c.value=n.data.searchEditingData)}).catch(n=>{console.log("Error")})},T=z.exports.debounce(()=>{_.value===""?I():j()});O([_],T);const I=()=>{C.get(E.API_URL+"auth/admin/get-editing-journal",{params:{token:k}}).then(n=>{n.data.success&&(c.value=n.data.editingdata)})},q=()=>{I()};return G(()=>{q()}),s(null),(n,d)=>(r(),g("section",null,[a(se,{title:"Approved Editing Journal List"},{default:o(()=>[a(Z,{class:"d-flex flex-wrap py-4 px-4 gap-2"},{default:o(()=>[e("div",de,[a(A,{style:{"font-size":"small"},class:"mr-1"},{default:o(()=>[ie]),_:1}),a(H,{modelValue:S.value,"onUpdate:modelValue":[d[0]||(d[0]=i=>S.value=i),R],items:D},null,8,["modelValue"]),a(A,{style:{"font-size":"small"},class:"ml-1"},{default:o(()=>[re]),_:1})]),a(L),a(L),e("div",ce,[e("div",ue,[a(Q,{modelValue:_.value,"onUpdate:modelValue":d[1]||(d[1]=i=>_.value=i),label:"Search",class:"search-field",solo:"","append-inner-icon":"mdi-magnify",density:"compact"},null,8,["modelValue"])])])]),_:1}),a(W,{ref_key:"tableRef",ref:N},{default:o(()=>{var i;return[a(K,{hidden:"",class:"mb-5"},{default:o(()=>[a(Y,{src:u(X),alt:"Dit.Ads Logo",class:"logo"},null,8,["src"])]),_:1}),_e,e("tbody",null,[(r(!0),g($,null,w(u(U),(t,B)=>(r(),g("tr",{key:t.id},[e("td",pe,l(B+1),1),e("td",me,l(t.editor.firstname)+" "+l(t.editor.middlename)+" "+l(t.editor.lastname),1),e("td",ge,l(t.client.firstname)+" "+l(t.client.middlename)+" "+l(t.client.lastname),1),e("td",he,l(u(P)(t.date_time_requests).format("MMMM DD, YYYY")),1),e("td",fe,l(t.uploaded_file),1),e("td",ve,[t.editor_status=="Approved"?(r(),y(V,{key:0,color:"success",variant:"outlined"},{default:o(()=>[h(l(t.editor_status),1)]),_:2},1024)):f("",!0),t.editor_status=="Pending"?(r(),y(V,{key:1,color:"warning",variant:"outlined"},{default:o(()=>[h(l(t.editor_status),1)]),_:2},1024)):f("",!0),t.editor_status=="Rejected"?(r(),y(V,{key:2,color:"error",variant:"outlined"},{default:o(()=>[h(l(t.editor_status),1)]),_:2},1024)):f("",!0)]),e("td",xe,[h(l(u(P)(t.updated_at).format("MMMM DD, YYYY"))+" ",1),ye])]))),128))]),((i=c.value)==null?void 0:i.length)==0?(r(),g("tfoot",Ve,[e("tr",null,[e("td",be,[e("div",De,[a(Y,{src:u(ee),style:{display:"inline-block","max-width":"100%",width:"35%",height:"55%","object-fit":"cover"}},null,8,["src"]),a(te,{color:"primary",indeterminate:"",reverse:""})])])])])):f("",!0)]}),_:1},512),a(ae,{length:u(F),modelValue:x.value,"onUpdate:modelValue":d[2]||(d[2]=i=>x.value=i)},null,8,["length","modelValue"])]),_:1})]))}});const Me=oe(Se,[["__scopeId","data-v-135136ef"]]);export{Me as default};
