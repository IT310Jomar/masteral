import{_ as J}from"./ErrorHeader.vue_vue_type_script_setup_true_lang.814619c2.js";import{d as G,cp as Y,cq as K,cr as Q,cA as X,a as c,o as Z,c as u,e as ee,f as e,w as a,z as v,A as m,i as s,y as V,E as i,l as x,s as g,m as f,n as d,p as C,M as o,j as ae,V as te,S as U,a0 as z,a1 as D,bJ as le,W as _,a7 as oe,a3 as A,a9 as j,C as B,aF as se,aG as re,D as ne,U as ue}from"./main.dc3150f2.js";import{V as ie}from"./vue3-pdf-app.umd.bbeacf02.js";/* empty css             */import{_ as de}from"./validationApproved.vue_vue_type_script_setup_true_lang.e65af9e5.js";import ce from"./reasonReject.b9f7230a.js";import{p as me}from"./401_error.6e3d3e3f.js";import"./DialogCloseBtn.vue_vue_type_script_setup_true_lang.d9594284.js";import"./validationRejected.vue_vue_type_script_setup_true_lang.497d6e3b.js";import"./VTextarea.f3ff2a93.js";const I=b=>(se("data-v-0089888c"),b=b(),re(),b),pe=I(()=>o("div",{class:"loading-container"},[o("div",{class:"loading-spinner"}),o("p",null,"Please Wait...")],-1)),fe={style:{height:"80vh"}},_e={class:"ml-3",style:{"font-size":"medium"}},ve=I(()=>o("h5",null,"Contact Info",-1)),ge=I(()=>o("br",null,null,-1)),be=I(()=>o("br",null,null,-1)),ye={class:"misc-wrapper"},we={class:"text-center",style:{"margin-bottom":"-2%"}},ke={class:"misc-avatar w-100 text-center"},he=G({__name:"[id]",setup(b){const M=Y(Q,K),R=X(),S=c(),N=JSON.parse(localStorage.getItem("editorData")||"{}"),O={sidebar:{viewThumbnail:!0,viewOutline:!1,viewAttachments:!1},secondaryToolbar:{secondaryPresentationMode:!0,secondaryOpenFile:!0,secondaryPrint:!0,secondaryDownload:!0,secondaryViewBookmark:!0,firstPage:!0,lastPage:!0,pageRotateCw:!0,pageRotateCcw:!0,cursorSelectTool:!0,cursorHandTool:!0,scrollVertical:!0,scrollHorizontal:!0,scrollWrapped:!0,spreadNone:!0,spreadOdd:!0,spreadEven:!0,documentProperties:!0},toolbar:{toolbarViewerLeft:{findbar:!0,previous:!0,next:!0,pageNumber:!0},toolbarViewerRight:{presentationMode:!0,openFile:!1,print:!1,download:!0,viewBookmark:!1},toolbarViewerMiddle:{zoomOut:!1,zoomIn:!1,scaleSelectContainer:!0}},errorWrapper:!1},t=c(),y=c(!1),w=c(!1),k=c(),q=()=>{y.value=!0,k.value=R.params.id},F=()=>{w.value=!0,k.value=R.params.id},L=c(),P=c(!0),E=JSON.parse(localStorage.getItem("accessToken")||"{}"),H=()=>{P.value=!0,B.get(ne.API_URL+"auth/admin/get-uploaded-journal/"+R.params.id,{params:{token:E}}).then(l=>{l.data.success&&(t.value=l.data.requestData[0],t.value&&"uploaded_file"in t.value&&(S.value="/storage/journals/"+l.data.requestData[0].uploaded_file,L.value=l.data.requestData[0].uploaded_file))}).finally(()=>{P.value=!1}).catch(l=>{console.log("error")})},h=c([]),W=l=>{h.value[l]=!0,setTimeout(()=>{h.value[l]=!1},3e3)},$=async()=>{try{const l=await B.get(S.value,{responseType:"blob"});W(1);const r=window.URL.createObjectURL(new Blob([l.data])),p=document.createElement("a");p.href=r,p.setAttribute("download",L.value),document.body.appendChild(p),p.click(),document.body.removeChild(p),window.URL.revokeObjectURL(r)}catch(l){console.error("Error downloading PDF:",l)}},T=()=>{H()};return Z(()=>{T()}),(l,r)=>{const p=J;return u(),ee("section",null,[e(C,{title:"Upload Information"},{default:a(()=>[e(v,{link:"",to:"/editor/approved_documents",class:"d-flex float-right mr-5",style:{"margin-top":"-5%"}},{default:a(()=>[e(m,{size:"large"},{default:a(()=>[s("tabler:arrow-back-up")]),_:1})]),_:1}),e(V,{class:"mt-2"}),P.value?(u(),i(x,{key:0},{default:a(()=>[pe]),_:1})):t.value&&t.value.editor_status==="Pending"&&t.value.editor_id===g(N)[0].id?(u(),i(x,{key:1},{default:a(()=>[e(f,null,{default:a(()=>[e(d,{cols:"8"},{default:a(()=>[e(C,null,{default:a(()=>[e(f,{class:"text-center mt-2"},{default:a(()=>[e(d,{xs:"12",md:"12"},{default:a(()=>[e(v,{loading:h.value[1],disabled:h.value[1],color:"success",variant:"flat",onClick:$},{default:a(()=>[e(m,{start:"",size:"16",icon:"tabler-download"}),s(" Download ")]),_:1},8,["loading","disabled"])]),_:1})]),_:1}),o("div",fe,[e(g(ie),{style:{margin:"20px",padding:"10px"},pdf:S.value,config:O},null,8,["pdf"])])]),_:1})]),_:1}),t.value?(u(),i(d,{key:0,cols:"4"},{default:a(()=>[e(ae,{ref:"refsubmit"},{default:a(()=>[e(C,null,{default:a(()=>[e(te,null,{default:a(()=>[e(U),e(f,null,{default:a(()=>[e(d,{xs:"12",md:"12"},{default:a(()=>[e(v,{class:"ml-2",color:"success",variant:"flat",onClick:q},{default:a(()=>[e(m,{start:"",size:"16",icon:"solar:like-broken"}),s(" Approved ")]),_:1})]),_:1})]),_:1}),e(f,null,{default:a(()=>[e(d,{xs:"12",md:"12"},{default:a(()=>[e(v,{color:"error",variant:"outlined",onClick:F},{default:a(()=>[e(m,{start:"",size:"16",icon:"solar:dislike-outline"}),s(" Rejected ")]),_:1})]),_:1})]),_:1}),e(U)]),_:1})]),_:1})]),_:1},512),e(C,{title:"Client",class:"mt-5"},{default:a(()=>[e(V),e(x,null,{default:a(()=>[e(f,null,{default:a(()=>[e(d,null,{default:a(()=>{var n;return[e(z,{color:"primary",variant:"tonal"},{default:a(()=>[t.value.client.image?(u(),i(D,{key:0,src:"/storage/profile_image/"+t.value.client.image},null,8,["src"])):(u(),i(D,{key:1,src:g(le)},null,8,["src"]))]),_:1}),o("span",_e,_(t.value.client.firstname)+" "+_((n=t.value.client)==null?void 0:n.middlename)+" "+_(t.value.client.lastname),1)]}),_:1})]),_:1}),e(V,{class:"mb-5 mt-5"}),e(f,null,{default:a(()=>[e(d,null,{default:a(()=>[t.value.client.status=="Disabled"?(u(),i(z,{key:0,color:"error",variant:"tonal"},{default:a(()=>[e(m,null,{default:a(()=>[s("material-symbols:person-cancel-outline-rounded")]),_:1})]),_:1})):(u(),i(z,{key:1,color:"primary",variant:"tonal"},{default:a(()=>[e(m,null,{default:a(()=>[s("material-symbols:person-check-outline")]),_:1})]),_:1}))]),_:1}),t.value?(u(),i(d,{key:0},{default:a(()=>[e(oe,{style:{"margin-left":"-75%","margin-top":"5%"}},{default:a(()=>[s(_(t.value.client.status),1)]),_:1})]),_:1})):A("",!0)]),_:1}),e(V,{class:"mb-5 mt-5"}),e(f,null,{default:a(()=>[e(d,null,{default:a(()=>[ve]),_:1})]),_:1}),t.value!=null?(u(),i(d,{key:0},{default:a(()=>{var n;return[o("span",null,[e(m,null,{default:a(()=>[s(" material-symbols:alternate-email-rounded")]),_:1}),s(" "+_(t.value.client.users.email),1)]),ge,be,o("span",null,[e(m,null,{default:a(()=>[s("material-symbols:smartphone-sharp")]),_:1}),s(" "+_((n=t.value.client)==null?void 0:n.contact),1)])]}),_:1})):A("",!0)]),_:1})]),_:1})]),_:1})):A("",!0)]),_:1})]),_:1})):(u(),i(x,{key:2},{default:a(()=>[o("div",ye,[e(p,{"error-title":"You are not authorized! \u{1F510}","error-description":`You do not have permission to view this page using the credentials that you have provided while login.\r
      Please contact your site administrator.`}),o("div",we,[e(v,{to:"/editor/approved_documents",class:"mb-12"},{default:a(()=>[s(" Back ")]),_:1})]),o("div",ke,[e(D,{src:g(me),alt:"Coming Soon","max-width":590,class:"mx-auto"},null,8,["src"])]),e(D,{src:g(M),class:"misc-footer-img d-none d-md-block"},null,8,["src"])])]),_:1}))]),_:1}),e(j,{modelValue:y.value,"onUpdate:modelValue":r[1]||(r[1]=n=>y.value=n),scrollable:"","max-width":"540"},{default:a(()=>[e(de,{row:k.value,onClose:r[0]||(r[0]=n=>y.value=!1),onHandleData:T},null,8,["row"])]),_:1},8,["modelValue"]),e(j,{modelValue:w.value,"onUpdate:modelValue":r[3]||(r[3]=n=>w.value=n),scrollable:"","max-width":"540"},{default:a(()=>[e(ce,{row:k.value,onClose:r[2]||(r[2]=n=>w.value=!1),onHandleData:T},null,8,["row"])]),_:1},8,["modelValue"])])}}});const Ae=ue(he,[["__scopeId","data-v-0089888c"]]);export{Ae as default};
