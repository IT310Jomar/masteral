import{d as E,a as o,aO as C,o as G,bM as H,Z,c as m,e as _,f as t,w as l,l as Q,M as e,aZ as R,aI as W,s as i,aD as V,S as K,q as X,bs as ee,F as te,G as ae,W as x,a8 as se,i as b,z as le,A as T,a3 as U,a4 as ne,a5 as oe,a6 as ie,k as de,a1 as ce,bI as re,bH as ue,bt as pe,p as me,a9 as _e,C as L,D as N,aF as fe,aG as ge,U as he}from"./main.dc3150f2.js";import{h as ve}from"./moment.40bc58bf.js";import Ve from"./viewRequestsPending.61036f17.js";import"./DialogCloseBtn.vue_vue_type_script_setup_true_lang.d9594284.js";import"./vue3-pdf-app.umd.bbeacf02.js";/* empty css             */const I=f=>(fe("data-v-cde23ba2"),f=f(),ge(),f),xe={class:"me-3",style:{width:"10.5rem",display:"flex","align-items":"center"}},ye=I(()=>e("strong",null,"Show",-1)),be=I(()=>e("strong",null,"entries",-1)),Ie={class:"app-user-search-filter d-flex align-center flex-wrap gap-4 justify-end"},Me={style:{width:"17rem",display:"flex","align-items":"center"}},Pe=I(()=>e("thead",null,[e("tr",null,[e("th",{class:"text-center"},"No."),e("th",{class:"text-center"},"Date and Time of Requests"),e("th",{class:"text-center"},"Uploaded Journal"),e("th",{class:"text-center"},"Request Status"),e("th",null,"Action")])],-1)),Se={class:"text-center"},ke={class:"text-center"},we={class:"text-center"},De={class:"text-center"},qe={key:0,class:"tooltip"},Ce={key:0},Re={colspan:"8"},Te={style:{"text-align":"center"},class:"mb-5 mt-5"},Ue=E({__name:"pending",setup(f){const c=o([]),j=o(),r=o(null),M=o(1),P=[5,20,50,100,500],u=o(P[0]);o(u.value);const g=o(M),y=o(u),p=o(!1),S=JSON.parse(localStorage.getItem("accessToken")||"{}"),z=C(()=>{const a=(M.value-1)*u.value,s=a+u.value;return c.value.slice(a,s)});let A=C(()=>c.value.length>0?Math.ceil(c.value.length/u.value):0);function B(){g.value=1}const k=JSON.parse(localStorage.getItem("clientData")||"{}"),w=()=>{L.get(N.API_URL+"client/client/get-journal-requested-list/"+k[0].id,{params:{token:S}}).then(a=>{a.data.success&&(c.value=a.data.pending)})},h=o(null),F=a=>{h.value=a},Y=a=>{h.value===a&&(h.value=null)};G(()=>{w()});const $=()=>{L.get(N.API_URL+"client/client/get-search-journal-requested-list/"+k[0].id,{params:{query:r.value,token:S}}).then(a=>{a.data.success&&(c.value=a.data.pending)}).catch(a=>{console.log("Error")})},J=H.exports.debounce(()=>{r.value===""?w():$()});Z([r],J);const D=o(),O=a=>{p.value=!0,D.value=a};return(a,s)=>(m(),_("section",null,[t(me,{title:"My Pending Requests"},{default:l(()=>[t(Q,{class:"d-flex flex-wrap py-4 px-4 gap-2"},{default:l(()=>[e("div",xe,[t(R,{style:{"font-size":"small"},class:"mr-1"},{default:l(()=>[ye]),_:1}),t(W,{modelValue:i(y),"onUpdate:modelValue":[s[0]||(s[0]=n=>V(y)?y.value=n:null),B],items:P},null,8,["modelValue"]),t(R,{style:{"font-size":"small"},class:"ml-1"},{default:l(()=>[be]),_:1})]),t(K),e("div",Ie,[e("div",Me,[t(X,{modelValue:i(r),"onUpdate:modelValue":s[1]||(s[1]=n=>V(r)?r.value=n:null),label:"Search",class:"search-field",solo:"","append-inner-icon":"mdi-magnify",density:"compact"},null,8,["modelValue"])])])]),_:1}),t(ee,{ref_key:"tableRef",ref:j},{default:l(()=>{var n;return[Pe,e("tbody",null,[(m(!0),_(te,null,ae(i(z),(d,v)=>(m(),_("tr",{key:d.id},[e("td",Se,x(v+1),1),e("td",ke,x(i(ve)(d.date_time_requests).format("MMMM DD, YYYY h:mm A")),1),e("td",we,x(d.uploaded_file),1),e("td",De,[t(se,{color:"warning",variant:"outlined"},{default:l(()=>[b(x(d==null?void 0:d.request_status),1)]),_:2},1024)]),e("td",null,[t(le,{icon:"",size:"x-small",variant:"text",class:"icon-container"},{default:l(()=>[t(T,{icon:"tabler-table-options",size:"22",onMouseenter:q=>F(v),onMouseleave:q=>Y(v)},null,8,["onMouseenter","onMouseleave"]),i(h)===v?(m(),_("span",qe,"Click Me")):U("",!0),t(ne,{activator:"parent"},{default:l(()=>[t(oe,null,{default:l(()=>[t(ie,{onClick:de(q=>O(d.id),["prevent"])},{default:l(()=>[t(T,null,{default:l(()=>[b("tabler:eye")]),_:1}),b(" View ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)])]))),128))]),((n=i(c))==null?void 0:n.length)==0?(m(),_("tfoot",Ce,[e("tr",null,[e("td",Re,[e("div",Te,[t(ce,{src:i(re),style:{display:"inline-block","max-width":"100%",width:"35%",height:"55%","object-fit":"cover"}},null,8,["src"]),t(ue,{color:"primary",indeterminate:"",reverse:""})])])])])):U("",!0)]}),_:1},512),t(pe,{length:i(A),modelValue:i(g),"onUpdate:modelValue":s[2]||(s[2]=n=>V(g)?g.value=n:null)},null,8,["length","modelValue"])]),_:1}),t(_e,{scrollable:"",modelValue:i(p),"onUpdate:modelValue":s[4]||(s[4]=n=>V(p)?p.value=n:null),"max-width":"1000"},{default:l(()=>[t(Ve,{row:i(D),onClose:s[3]||(s[3]=n=>p.value=!1)},null,8,["row"])]),_:1},8,["modelValue"])]))}});const Fe=he(Ue,[["__scopeId","data-v-cde23ba2"]]);export{Fe as default};
