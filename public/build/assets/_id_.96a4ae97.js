import{_ as F}from"./ErrorHeader.vue_vue_type_script_setup_true_lang.814619c2.js";import{d as H,cp as Y,cq as G,cr as J,a as l,cA as O,o as W,c as h,e as q,f as e,w as a,V as j,g as K,i as u,S as Q,z as b,A as c,E as y,l as _,s as x,m as V,n as m,p as k,M as t,a0 as X,a1 as w,a6 as Z,W as s,a8 as f,y as B,bs as ee,a9 as te,C as P,D as U,aF as ae,aG as le,U as oe}from"./main.dc3150f2.js";import{_ as se}from"./editDialog.vue_vue_type_script_setup_true_lang.c7c123c2.js";import{p as ne}from"./page_error_401.a454014d.js";import"./DialogCloseBtn.vue_vue_type_script_setup_true_lang.d9594284.js";import"./VFileInput.a98189c2.js";const r=p=>(ae("data-v-e7b8a5c2"),p=p(),le(),p),ie=r(()=>t("div",{class:"loading-container"},[t("div",{class:"loading-spinner"}),t("p",null,"Please Wait...")],-1)),re={class:"profile-card text-center mb-2"},de={class:"profile-card-photo"},ue=r(()=>t("div",{style:{"font-weight":"bold"}},null,-1)),ce=r(()=>t("div",{style:{"font-weight":"bold"}},null,-1)),_e=r(()=>t("div",{class:"mb-4"},null,-1)),me={class:"text-center mt-2"},fe={class:"text-center mt-1"},pe=r(()=>t("td",{width:"300px"},[t("strong",null,"Full Name")],-1)),ve=r(()=>t("td",null,[t("strong",null,"Contact")],-1)),he=r(()=>t("td",null,[t("strong",null,"Email")],-1)),ge=r(()=>t("td",null,[t("strong",null,"Status")],-1)),be={class:"misc-wrapper"},ye={class:"text-center",style:{"margin-bottom":"-2%"}},xe={class:"misc-avatar w-100 text-center"},Ve=H({__name:"[id]",setup(p){const N=Y(J,G),I=JSON.parse(localStorage.getItem("accessToken")||"null"),z=JSON.parse(localStorage.getItem("editorData")||"{}");l();const A=O();l(),l(),l(),l(),l(),l(),l(),l(),l();const D=l(),o=l(),v=l(!1);l(null);const E=l(null),S=l(),C=l(),L=l(),g=l(!0),M=()=>{S.value=D.value,C.value=o.value,v.value=!0},T=()=>{g.value=!0,P.get(U.API_URL+"auth/admin/get-profile/"+A.params.id,{params:{token:I}}).then(n=>{D.value=n.data.clientprofile[0],o.value=n.data.editorprofile[0]}).finally(()=>{g.value=!1}).catch(n=>{console.log("error")})},R=()=>{P.get(U.API_URL+"auth/user-profile",{params:{token:I}}).then(n=>{n.data.success&&(L.value=n.data.dataUser)}).catch(n=>{console.log("error")})};return W(()=>{T(),R()}),(n,d)=>{const $=F;return h(),q("section",null,[e(k,{class:"mb-4"},{default:a(()=>[e(j,{color:"yellow"},{default:a(()=>[e(K,{class:"text-h5",style:{color:"white"}},{default:a(()=>[u("Your Profile")]),_:1}),e(Q),e(b,{color:"primary",variant:"flat",to:"/"},{default:a(()=>[e(c,{start:"",size:"16",icon:"material-symbols:arrow-back-rounded"}),u(" Back")]),_:1})]),_:1}),g.value?(h(),y(_,{key:0},{default:a(()=>[ie]),_:1})):o.value&&o.value.user_id===x(z)[0].user_id?(h(),y(_,{key:1},{default:a(()=>[e(V,null,{default:a(()=>[e(m,{cols:"4",md:"4",sm:"12"},{default:a(()=>[e(k,{class:"d-flex flex-column mb-4 mt-3"},{default:a(()=>{var i;return[t("div",null,[t("div",null,[t("div",re,[t("div",de,[e(m,null,{default:a(()=>[e(X,{class:"cursor-pointer",color:"primary",variant:"tonal",style:{width:"200px",height:"200px","margin-top":"10%","margin-bottom":"3%"}},{default:a(()=>[e(w,{src:"/storage/profile_image/"+o.value.image,alt:"Uploaded Image",class:"circle-image"},null,8,["src"])]),_:1})]),_:1}),e(V,null,{default:a(()=>[e(m,{style:{"text-align":"center"},class:"mt-5"},{default:a(()=>[e(Z,{link:""},{default:a(()=>[t("input",{ref_key:"fileInput",ref:E,type:"file",hidden:""},null,512),e(b,{onClick:d[0]||(d[0]=ke=>M()),rounded:"pill",size:"small",class:"btn btn-rounded btn-sm"},{default:a(()=>[u(" Edit Profile ")]),_:1})]),_:1})]),_:1})]),_:1})]),ue,ce,_e,t("h3",me,s(o.value.firstname)+" "+s((i=o.value)==null?void 0:i.middlename)+" "+s(o.value.lastname),1),t("h1",fe,[e(f,{color:"blue",variant:"outlined",size:"small"},{default:a(()=>[u(s(o.value.users.roles.name),1)]),_:1})])])])])]}),_:1}),e(V,null,{default:a(()=>[e(m,{style:{"text-align":"center"},class:"mt-5"})]),_:1})]),_:1}),e(m,null,{default:a(()=>[e(_,null,{default:a(()=>[e(k,{class:"headline mb-8",title:"Personal Information",tabindex:"-1",style:{"margin-left":"1%"}},{default:a(()=>[e(B),e(_,null,{default:a(()=>[e(ee,null,{default:a(()=>[t("tbody",null,[t("tr",null,[pe,t("td",null,[e(f,{color:"blue",label:""},{default:a(()=>{var i;return[e(c,{start:"",icon:"mdi-account-circle-outline"}),t("b",null,s(o.value.firstname)+" "+s((i=o.value)==null?void 0:i.middlename)+" "+s(o.value.lastname),1)]}),_:1})])]),t("tr",null,[ve,t("td",null,[e(f,{color:"info",label:""},{default:a(()=>[e(c,{start:"",icon:"material-symbols:phone-android-outline"}),t("b",null,s(o.value.contact),1)]),_:1})])]),t("tr",null,[he,t("td",null,[e(f,{color:"info",label:""},{default:a(()=>[e(c,{start:"",icon:"ic:twotone-mail-outline"}),t("b",null,s(o.value.users.email),1)]),_:1})])]),t("tr",null,[ge,t("td",null,[e(f,{color:"success"},{default:a(()=>[e(c,{start:"",icon:"ph:activity-light"}),t("b",null,s(o.value.status),1)]),_:1})])])])]),_:1}),e(B)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):(h(),y(_,{key:2},{default:a(()=>[t("div",be,[e($,{"error-title":"You are not authorized! \u{1F510}","error-description":`You do not have permission to view this page using the credentials that you have provided while login.\r
      Please contact your site administrator.`}),t("div",ye,[e(b,{to:"/",class:"mb-12"},{default:a(()=>[u(" Back to Home ")]),_:1})]),t("div",xe,[e(w,{src:x(ne),alt:"Coming Soon","max-width":590,class:"mx-auto"},null,8,["src"])]),e(w,{src:x(N),class:"misc-footer-img d-none d-md-block"},null,8,["src"])])]),_:1}))]),_:1}),e(te,{modelValue:v.value,"onUpdate:modelValue":d[2]||(d[2]=i=>v.value=i),scrollable:"",width:"60vh"},{default:a(()=>[e(se,{onClose:d[1]||(d[1]=i=>v.value=!1),onHandledata:T,clientData:S.value,editorData:C.value},null,8,["clientData","editorData"])]),_:1},8,["modelValue"])])}}});const Be=oe(Ve,[["__scopeId","data-v-e7b8a5c2"]]);export{Be as default};
