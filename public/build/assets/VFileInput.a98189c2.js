import{ad as O,aK as Q,aL as W,aM as X,ao as Y,aN as q,aO as c,aP as R,a as p,af as G,aQ as J,aR as Z,aS as ee,f as t,aT as le,ac as y,F as k,a8 as ae,aU as te,aV as ne,aW as oe,aX as $,aY as ue}from"./main.dc3150f2.js";const re=O({name:"VFileInput",inheritAttrs:!1,props:{chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},multiple:Boolean,hint:String,persistentHint:Boolean,placeholder:String,showSize:{type:[Boolean,Number],default:!1,validator:e=>typeof e=="boolean"||[1e3,1024].includes(e)},...Q({prependIcon:"$file"}),modelValue:{type:Array,default:()=>[],validator:e=>W(e).every(v=>v!=null&&typeof v=="object")},...X({clearable:!0})},emits:{"click:control":e=>!0,"update:modelValue":e=>!0},setup(e,v){let{attrs:w,emit:A,slots:n}=v;const{t:h}=Y(),o=q(e,"modelValue"),V=c(()=>typeof e.showSize!="boolean"?e.showSize:void 0),S=c(()=>{var l;return((l=o.value)!=null?l:[]).reduce((a,u)=>{let{size:d=0}=u;return a+d},0)}),I=c(()=>R(S.value,V.value)),g=c(()=>{var l;return((l=o.value)!=null?l:[]).map(a=>{const{name:u="",size:d=0}=a;return e.showSize?`${u} (${R(d,V.value)})`:u})}),N=c(()=>{var u;var l;const a=(u=(l=o.value)==null?void 0:l.length)!=null?u:0;return e.showSize?h(e.counterSizeString,a,I.value):h(e.counterString,a)}),F=p(),P=p(),r=p(!1),i=p(),D=c(()=>e.messages.length?e.messages:e.persistentHint?e.hint:"");function C(){if(i.value!==document.activeElement){var l;(l=i.value)==null||l.focus()}r.value||(r.value=!0)}function _(l){$(e["onClick:prepend"],l),z(l)}function z(l){var a;(a=i.value)==null||a.click(),A("click:control",l)}function j(l){l.stopPropagation(),C(),ue(()=>{o.value=[],i!=null&&i.value&&(i.value.value=""),$(e["onClick:clear"],l)})}return G(()=>{const l=!!(n.counter||e.counter),a=!!(l||n.details),[u,d]=J(w),[{modelValue:ie,...x}]=Z(e),[E]=ee(e);return t(ne,y({ref:F,modelValue:o.value,"onUpdate:modelValue":f=>o.value=f,class:"v-file-input","onClick:prepend":_,"onClick:append":e["onClick:append"]},u,x,{focused:r.value,messages:D.value}),{...n,default:f=>{let{isDisabled:m,isDirty:b,isReadonly:H,isValid:L}=f;return t(le,y({ref:P,"prepend-icon":e.prependIcon,"onClick:control":z,"onClick:clear":j,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},E,{active:b.value||r.value,dirty:b.value,focused:r.value,error:L.value===!1}),{...n,default:M=>{let{props:{class:T,...U}}=M;return t(k,null,[t("input",y({ref:i,type:"file",readonly:H.value,disabled:m.value,multiple:e.multiple,name:e.name,onClick:s=>{s.stopPropagation(),C()},onChange:s=>{var B;if(!s.target)return;const K=s.target;o.value=[...(B=K.files)!=null?B:[]]},onFocus:C,onBlur:()=>r.value=!1},U,d),null),t("div",{class:T},[o.value.length>0&&(n.selection?n.selection({fileNames:g.value,totalBytes:S.value,totalBytesReadable:I.value}):e.chips?g.value.map(s=>t(ae,{key:s,size:"small",color:e.color},{default:()=>[s]})):g.value.join(", "))])])}})},details:a?f=>{var m;return t(k,null,[(m=n.details)==null?void 0:m.call(n,f),l&&t(k,null,[t("span",null,null),t(te,{active:!!o.value.length,value:N.value},n.counter)])])}:void 0})}),oe({},F,P,i)}});export{re as V};
