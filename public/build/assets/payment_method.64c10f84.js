import{d as ne,a as n,aO as H,bM as de,Z as re,C as I,D as C,o as ce,c as r,e as _,s as c,E as M,w as l,f as e,V as ie,g as ue,i as b,S as U,z as J,A,l as me,M as t,aZ as O,aI as pe,q as _e,bs as fe,n as j,a1 as x,bJ as G,F as ve,G as he,W as T,a0 as ge,bB as ye,a3 as w,a4 as Ve,a5 as be,a6 as xe,bI as ke,bH as Pe,bt as Se,p as Ie,a9 as k,aJ as Ce,aF as Me,aG as Ue,U as Ae}from"./main.dc3150f2.js";import Te from"./addpayment-dialog.14dd550d.js";import we from"./edit_payment_method-dialog.ba3aec8f.js";import"./jspdf.plugin.autotable.5f00a359.js";import{_ as De}from"./paymentPrintDialog.vue_vue_type_style_index_0_lang.22c39d8d.js";import"./DialogCloseBtn.vue_vue_type_script_setup_true_lang.d9594284.js";import"./VFileInput.a98189c2.js";const D=f=>(Me("data-v-002c7b4b"),f=f(),Ue(),f),Le={class:"me-3",style:{display:"flex",width:"10.5rem","align-items":"center"}},Ne=D(()=>t("strong",null,"Show",-1)),Re=D(()=>t("strong",null,"entries",-1)),$e={class:"app-user-search-filter d-flex align-center flex-wrap gap-4 justify-end"},ze={style:{display:"flex",width:"17rem","align-items":"center"}},Be=D(()=>t("thead",null,[t("tr",null,[t("th",{class:"text-center"},"No."),t("th",{class:"text-center"},"Name"),t("th",{class:"text-center"},"Account Number"),t("th",{class:"text-center"},"QR Code"),t("th",{class:"text-center"},"Status"),t("th",{class:"text-center"},"Action")])],-1)),qe={class:"text-center"},Fe={class:"text-center"},Ee={class:"text-center"},He={class:"text-center"},Je={class:"profile-card text-center mb-2"},Oe={class:"profile-card-photo"},je={class:"text-center"},Ge={class:"text-center"},Qe={key:0,class:"tooltip"},Ze={key:0},We={colspan:"8"},Ke={style:{"text-align":"center"},class:"mb-5 mt-5"},Xe=ne({__name:"payment_method",setup(f){const L=JSON.parse(localStorage.getItem("userRole")||"{}"),N=JSON.parse(localStorage.getItem("accessToken")||"{}"),i=n([]),Q=n(),u=n(null),R=n(1),$=[5,20,50,100,500],m=n($[0]);n(m.value);const P=n(R),z=n(),B=n(m),q=H(()=>{const s=(R.value-1)*m.value,a=s+m.value;return i.value.slice(s,a)});let Z=H(()=>i.value.length>0?Math.ceil(i.value.length/m.value):0);function W(){P.value=1}const K=()=>{I.get(C.API_URL+"auth/admin/search-payment-method",{params:{query:u.value,token:N}}).then(s=>{s.data.success&&(i.value=s.data.searchPayment)}).catch(s=>{console.log("Error")})},X=de.exports.debounce(()=>{u.value===""?S():K()},300);re([u],X);const S=()=>{I.get(C.API_URL+"auth/admin/get-all-payment-menthod",{params:{token:N}}).then(s=>{s.data.success&&(i.value=s.data.paymentmethoddata)})};ce(()=>{S()});const v=n(!1),Y=()=>{v.value=!0},ee=()=>{v.value=!1},te=s=>{Y(),I.put(C.API_URL+"auth/admin/status-payment-method/"+s.id,{status:s.status.toString()}).then(a=>{a.data.success&&ee()})},h=n(null);n(!1),n(!1),n(),n();const g=n(!1),y=n(!1),ae=()=>{g.value=!0},F=n(),le=s=>{y.value=!0,F.value=s},se=s=>{h.value=s},oe=s=>{h.value===s&&(h.value=null)},E=()=>{S()};return(s,a)=>(r(),_("section",null,[c(L)=="Admin"||c(L)=="God Mode"?(r(),M(Ie,{key:0},{default:l(()=>[e(ie,null,{default:l(()=>[e(ue,{class:"text-h6"},{default:l(()=>[b("Payment Method List")]),_:1}),e(U),e(J,{color:"primary",variant:"flat",onClick:ae,class:"mr-2"},{default:l(()=>[e(A,{start:"",size:"16",icon:"tabler-plus"}),b("Add Payment Option")]),_:1})]),_:1}),e(me,{class:"d-flex flex-wrap py-4 px-4 gap-2"},{default:l(()=>[t("div",Le,[e(O,{style:{"font-size":"small"},class:"mr-1"},{default:l(()=>[Ne]),_:1}),e(pe,{modelValue:B.value,"onUpdate:modelValue":[a[0]||(a[0]=o=>B.value=o),W],items:$},null,8,["modelValue"]),e(O,{style:{"font-size":"small"},class:"ml-1"},{default:l(()=>[Re]),_:1})]),e(U),e(U),t("div",$e,[t("div",ze,[e(_e,{modelValue:u.value,"onUpdate:modelValue":a[1]||(a[1]=o=>u.value=o),label:"Search",class:"search-field",solo:"","append-inner-icon":"mdi-magnify",density:"compact"},null,8,["modelValue"])])])]),_:1}),e(fe,{ref_key:"tableRef",ref:Q},{default:l(()=>{var o;return[e(j,{hidden:"",class:"mb-5"},{default:l(()=>[e(x,{src:c(G),alt:"Dit.Ads Logo",class:"logo"},null,8,["src"])]),_:1}),Be,t("tbody",null,[(r(!0),_(ve,null,he(c(q),(d,V)=>(r(),_("tr",{key:d.id},[t("td",qe,T(V+1),1),t("td",Fe,T(d.name),1),t("td",Ee,T(d.account),1),t("td",He,[t("div",Je,[t("div",Oe,[e(ge,{class:"cursor-pointer",color:"primary",variant:"tonal",style:{width:"50px",height:"50px","margin-top":"5%","margin-bottom":"2%"}},{default:l(()=>[d.qr_code_image?(r(),M(x,{key:0,src:"/storage/qr_code_image/"+d.qr_code_image,alt:"Uploaded Image",style:{display:"inline-block","max-width":"100%"}},null,8,["src"])):(r(),M(x,{key:1,src:c(G),alt:"Uploaded Image",class:"circle-image",style:{display:"inline-block","max-width":"100%"}},null,8,["src"]))]),_:2},1024)])])]),t("td",je,[e(j,{class:"d-flex align-center justify-center"},{default:l(()=>[e(ye,{modelValue:d.status,"onUpdate:modelValue":p=>d.status=p,label:d.status.toString(),"true-value":"Available","false-value":"Not Available",onChange:p=>te(d)},null,8,["modelValue","onUpdate:modelValue","label","onChange"])]),_:2},1024)]),t("td",Ge,[e(J,{icon:"",size:"x-small",variant:"text",class:"icon-container"},{default:l(()=>[e(A,{icon:"tabler-table-options",size:"22",onMouseenter:p=>se(V),onMouseleave:p=>oe(V)},null,8,["onMouseenter","onMouseleave"]),h.value===V?(r(),_("span",Qe,"Click Me")):w("",!0),e(Ve,{activator:"parent"},{default:l(()=>[e(be,null,{default:l(()=>[e(xe,{onClick:p=>le(d)},{default:l(()=>[e(A,null,{default:l(()=>[b("tabler-edit")]),_:1}),b(" Edit ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)])]))),128))]),((o=i.value)==null?void 0:o.length)==0?(r(),_("tfoot",Ze,[t("tr",null,[t("td",We,[t("div",Ke,[e(x,{src:c(ke),style:{display:"inline-block","max-width":"100%",width:"35%",height:"55%","object-fit":"cover"}},null,8,["src"]),e(Pe,{color:"primary",indeterminate:"",reverse:""})])])])])):w("",!0)]}),_:1},512),e(Se,{length:c(Z),modelValue:P.value,"onUpdate:modelValue":a[2]||(a[2]=o=>P.value=o)},null,8,["length","modelValue"])]),_:1})):w("",!0),e(k,{fullscreen:"",modelValue:z.value,"onUpdate:modelValue":a[3]||(a[3]=o=>z.value=o),transition:"dialog-bottom-transition",scrollable:""},{default:l(()=>[e(De,{Data:c(q)},null,8,["Data"])]),_:1},8,["modelValue"]),e(k,{modelValue:v.value,"onUpdate:modelValue":a[4]||(a[4]=o=>v.value=o),"max-width":"300",scrollable:""},{default:l(()=>[e(Ce)]),_:1},8,["modelValue"]),e(k,{modelValue:g.value,"onUpdate:modelValue":a[6]||(a[6]=o=>g.value=o),scrollable:"","max-width":"500"},{default:l(()=>[e(Te,{onClose:a[5]||(a[5]=o=>g.value=!1),onHandledata:E})]),_:1},8,["modelValue"]),e(k,{modelValue:y.value,"onUpdate:modelValue":a[8]||(a[8]=o=>y.value=o),scrollable:"","max-width":"500"},{default:l(()=>[e(we,{onClose:a[7]||(a[7]=o=>y.value=!1),onHandledata:E,row:F.value},null,8,["row"])]),_:1},8,["modelValue"])]))}});const nt=Ae(Xe,[["__scopeId","data-v-002c7b4b"]]);export{nt as default};
