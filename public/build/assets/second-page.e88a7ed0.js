import{d as B,a as n,o as S,c as m,e as g,f as l,w as o,l as _,i as p,M as s,a1 as A,a3 as M,z as C,k as N,F as P,G as j,bs as E,p as L,a9 as w,C as I,aF as R,aG as T,U as z}from"./main.dc3150f2.js";import{_ as G}from"./dialog.vue_vue_type_script_setup_true_lang.c09442df.js";import{_ as O}from"./preview-image.vue_vue_type_style_index_0_lang.bc71838b.js";import{V as q}from"./VFileInput.a98189c2.js";import"./DialogCloseBtn.vue_vue_type_script_setup_true_lang.d9594284.js";const x=r=>(R("data-v-deb99604"),r=r(),T(),r),H={class:"image-upload"},J=x(()=>s("small",{class:"text-muted ml-10"},"(5MB maximum file size, allowed file types: jpg, png, doc, pdf)",-1)),K={key:0,class:"circle-container"},Q=x(()=>s("thead",null,[s("tr",null,[s("th",null,"Image"),s("th",null,"Action")])],-1)),W={class:"circle-container"},X=["src","onClick"],Y=B({__name:"second-page",setup(r){const i=n(null),k=n(null),c=n(!1),d=n(!1),f=n(),v=n(),V=n(),h=n(null),F=()=>{var t;if(((t=i.value)==null?void 0:t.files)&&i.value.files.length>0){const e=i.value.files[0],a=new FileReader;a.onload=u=>{u.target&&typeof u.target.result=="string"&&(k.value=u.target.result)},a.readAsDataURL(e)}},y=()=>{var a;if(!((a=i.value)!=null&&a.files)||i.value.files.length===0)return;const t=i.value.files[0],e=new FormData;e.append("image",t),I.post("/api/auth/upload",e).then(u=>{console.log(u.data.message)})},b=()=>{I.get("/api/auth/getImage").then(t=>{const e=t.data.image;f.value="/storage/images/"+e[0].image})},D=()=>{I.get("/api/auth/getImage").then(t=>{const e=t.data.image;v.value=e,console.log(v.value,"hello image")})},$=t=>{c.value=!0,V.value=t},U=t=>{h.value=t,d.value=!0};return S(()=>{b(),D()}),(t,e)=>(m(),g("div",null,[l(L,{title:"Create Awesome \u{1F64C}"},{default:o(()=>[l(_,null,{default:o(()=>[p("PROFILE")]),_:1}),l(_,null,{default:o(()=>[s("div",H,[l(q,{ref_key:"fileInput",ref:i,onChange:F,chips:"",label:"Select File",accept:".jpg,.jpeg,.png,.doc,.docx,.pdf"},null,512),J,f.value?(m(),g("div",K,[l(A,{src:f.value,alt:"Uploaded Image",class:"circle-image"},null,8,["src"])])):M("",!0),l(C,{onClick:N(y,["prevent"])},{default:o(()=>[p("SAVE")]),_:1},8,["onClick"])])]),_:1}),l(_,null,{default:o(()=>[(m(!0),g(P,null,j(v.value,a=>(m(),g("div",{key:a.id},[l(E,null,{default:o(()=>[Q,s("tbody",null,[s("tr",null,[s("td",null,[s("div",W,[s("img",{src:"/storage/images/"+a.image,alt:"Image",class:"circle-image",onClick:u=>U(a)},null,8,X)])]),s("td",null,[l(C,{onClick:u=>$(a)},{default:o(()=>[p("View")]),_:2},1032,["onClick"])])])])]),_:2},1024)]))),128))]),_:1})]),_:1}),l(w,{modelValue:d.value,"onUpdate:modelValue":e[2]||(e[2]=a=>d.value=a),"max-width":"600px"},{default:o(()=>[l(O,{onCloseDialog:e[0]||(e[0]=a=>d.value=!1),image:h.value},null,8,["image"]),l(C,{text:"",onClick:e[1]||(e[1]=a=>d.value=!1)},{default:o(()=>[p("Close")]),_:1})]),_:1},8,["modelValue"]),l(w,{modelValue:c.value,"onUpdate:modelValue":e[4]||(e[4]=a=>c.value=a),"max-width":"600",persistent:""},{default:o(()=>[l(G,{onCloseDialog:e[3]||(e[3]=a=>c.value=!1),image:V.value},null,8,["image"])]),_:1},8,["modelValue"])]))}});const se=z(Y,[["__scopeId","data-v-deb99604"]]);export{se as default};
