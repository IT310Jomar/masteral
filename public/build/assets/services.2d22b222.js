import{d as se,a as n,aO as E,bM as oe,Z as ne,C as k,D as P,o as de,c as i,e as p,s as r,E as re,w as l,f as e,V as ue,g as ie,i as x,S as U,z as H,A as y,l as ce,M as a,aZ as J,aI as ve,q as me,bs as pe,n as j,a1 as G,bJ as fe,F as _e,G as ge,W as T,a8 as he,bB as Ve,a3 as A,a4 as be,a5 as xe,a6 as ye,bI as Se,bH as Ce,bt as Ie,p as ke,a9 as S,aJ as Pe,aF as Ue,aG as Te,U as Ae}from"./main.dc3150f2.js";import De from"./addservices-dialog.e611125b.js";import Me from"./edit_services-dialog.47116a21.js";import"./jspdf.plugin.autotable.5f00a359.js";import{_ as we}from"./servicesPrintDialog.vue_vue_type_style_index_0_lang.4b05bf46.js";import"./DialogCloseBtn.vue_vue_type_script_setup_true_lang.d9594284.js";const D=f=>(Ue("data-v-e6e32dca"),f=f(),Te(),f),Le={class:"me-3",style:{display:"flex",width:"10.5rem","align-items":"center"}},Ne=D(()=>a("strong",null,"Show",-1)),Re=D(()=>a("strong",null,"entries",-1)),$e={class:"app-user-search-filter d-flex align-center flex-wrap gap-4 justify-end"},ze={style:{display:"flex",width:"17rem","align-items":"center"}},Be=D(()=>a("thead",null,[a("tr",null,[a("th",{class:"text-center"},"No."),a("th",{class:"text-center"},"Name"),a("th",{class:"text-center"},"Price"),a("th",{class:"text-center"},"Status"),a("th",{class:"text-center"},"Action")])],-1)),Fe={class:"text-center"},Ee={class:"text-center"},He={class:"text-center"},Je={class:"text-center"},je={class:"text-center"},Ge={key:0,class:"tooltip"},Oe={key:0},qe={colspan:"8"},Ze={style:{"text-align":"center"},class:"mb-5 mt-5"},Qe=se({__name:"services",setup(f){const M=JSON.parse(localStorage.getItem("userRole")||"{}"),w=JSON.parse(localStorage.getItem("accessToken")||"{}"),u=n([]),O=n(),c=n(null),L=n(1),N=[5,20,50,100,500],v=n(N[0]);n(v.value);const C=n(L),R=n(),$=n(v),z=E(()=>{const s=(L.value-1)*v.value,t=s+v.value;return u.value.slice(s,t)});let q=E(()=>u.value.length>0?Math.ceil(u.value.length/v.value):0);function Z(){C.value=1}const Q=()=>{k.get(P.API_URL+"auth/admin/search-services-data",{params:{query:c.value,token:w}}).then(s=>{s.data.success&&(u.value=s.data.searchService)}).catch(s=>{console.log("Error")})},W=oe.exports.debounce(()=>{c.value===""?I():Q()},300);ne([c],W);const I=()=>{k.get(P.API_URL+"auth/admin/get-all-services-data",{params:{token:w}}).then(s=>{s.data.success&&(u.value=s.data.servicedata)})};de(()=>{I()});const _=n(!1),K=()=>{_.value=!0},X=()=>{_.value=!1},Y=s=>{K(),k.put(P.API_URL+"auth/admin/status-services-data/"+s.id,{status:s.status.toString()}).then(t=>{t.data.success&&X()})},g=n(null);n(!1),n(!1),n(),n();const h=n(!1),V=n(!1),ee=()=>{h.value=!0},B=n(),te=s=>{V.value=!0,B.value=s},ae=s=>{g.value=s},le=s=>{g.value===s&&(g.value=null)},F=()=>{I()};return(s,t)=>(i(),p("section",null,[r(M)=="Admin"||r(M)=="God Mode"?(i(),re(ke,{key:0},{default:l(()=>[e(ue,null,{default:l(()=>[e(ie,{class:"text-h6"},{default:l(()=>[x("Services List")]),_:1}),e(U),e(H,{color:"primary",variant:"flat",onClick:ee,class:"mr-2"},{default:l(()=>[e(y,{start:"",size:"16",icon:"tabler-plus"}),x("Add Service")]),_:1})]),_:1}),e(ce,{class:"d-flex flex-wrap py-4 px-4 gap-2"},{default:l(()=>[a("div",Le,[e(J,{style:{"font-size":"small"},class:"mr-1"},{default:l(()=>[Ne]),_:1}),e(ve,{modelValue:$.value,"onUpdate:modelValue":[t[0]||(t[0]=o=>$.value=o),Z],items:N},null,8,["modelValue"]),e(J,{style:{"font-size":"small"},class:"ml-1"},{default:l(()=>[Re]),_:1})]),e(U),e(U),a("div",$e,[a("div",ze,[e(me,{modelValue:c.value,"onUpdate:modelValue":t[1]||(t[1]=o=>c.value=o),label:"Search",class:"search-field",solo:"","append-inner-icon":"mdi-magnify",density:"compact"},null,8,["modelValue"])])])]),_:1}),e(pe,{ref_key:"tableRef",ref:O},{default:l(()=>{var o;return[e(j,{hidden:"",class:"mb-5"},{default:l(()=>[e(G,{src:r(fe),alt:"Dit.Ads Logo",class:"logo"},null,8,["src"])]),_:1}),Be,a("tbody",null,[(i(!0),p(_e,null,ge(r(z),(d,b)=>(i(),p("tr",{key:d.id},[a("td",Fe,T(b+1),1),a("td",Ee,[e(he,{color:"blue",variant:"outlined"},{default:l(()=>[e(y,{start:"",icon:"carbon:settings-services"}),a("b",null,T(d.name),1)]),_:2},1024)]),a("td",He,T(d.price),1),a("td",Je,[e(j,{class:"d-flex align-center justify-center"},{default:l(()=>[e(Ve,{modelValue:d.status,"onUpdate:modelValue":m=>d.status=m,label:d.status.toString(),"true-value":"Available","false-value":"Not Available",onChange:m=>Y(d)},null,8,["modelValue","onUpdate:modelValue","label","onChange"])]),_:2},1024)]),a("td",je,[e(H,{icon:"",size:"x-small",variant:"text",class:"icon-container"},{default:l(()=>[e(y,{icon:"tabler-table-options",size:"22",onMouseenter:m=>ae(b),onMouseleave:m=>le(b)},null,8,["onMouseenter","onMouseleave"]),g.value===b?(i(),p("span",Ge,"Click Me")):A("",!0),e(be,{activator:"parent"},{default:l(()=>[e(xe,null,{default:l(()=>[e(ye,{onClick:m=>te(d)},{default:l(()=>[e(y,null,{default:l(()=>[x("tabler-edit")]),_:1}),x(" Edit ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)])]))),128))]),((o=u.value)==null?void 0:o.length)==0?(i(),p("tfoot",Oe,[a("tr",null,[a("td",qe,[a("div",Ze,[e(G,{src:r(Se),style:{display:"inline-block","max-width":"100%",width:"35%",height:"55%","object-fit":"cover"}},null,8,["src"]),e(Ce,{color:"primary",indeterminate:"",reverse:""})])])])])):A("",!0)]}),_:1},512),e(Ie,{length:r(q),modelValue:C.value,"onUpdate:modelValue":t[2]||(t[2]=o=>C.value=o)},null,8,["length","modelValue"])]),_:1})):A("",!0),e(S,{fullscreen:"",modelValue:R.value,"onUpdate:modelValue":t[3]||(t[3]=o=>R.value=o),transition:"dialog-bottom-transition"},{default:l(()=>[e(we,{Data:r(z)},null,8,["Data"])]),_:1},8,["modelValue"]),e(S,{modelValue:_.value,"onUpdate:modelValue":t[4]||(t[4]=o=>_.value=o),"max-width":"300"},{default:l(()=>[e(Pe)]),_:1},8,["modelValue"]),e(S,{modelValue:h.value,"onUpdate:modelValue":t[6]||(t[6]=o=>h.value=o),scrollable:"",width:"60vh"},{default:l(()=>[e(De,{onClose:t[5]||(t[5]=o=>h.value=!1),onHandledata:F})]),_:1},8,["modelValue"]),e(S,{modelValue:V.value,"onUpdate:modelValue":t[8]||(t[8]=o=>V.value=o),scrollable:"",width:"60vh"},{default:l(()=>[e(Me,{onClose:t[7]||(t[7]=o=>V.value=!1),onHandledata:F,row:B.value},null,8,["row"])]),_:1},8,["modelValue"])]))}});const at=Ae(Qe,[["__scopeId","data-v-e6e32dca"]]);export{at as default};
