import{h as Z}from"./moment.40bc58bf.js";import{d as Q,a as l,aO as C,bM as W,Z as K,C as y,D as I,o as X,c as p,e as _,f as e,w as n,l as ee,M as t,aZ as U,aI as te,S as A,q as ae,bs as se,n as le,a1 as E,s as m,bJ as oe,F as ne,G as de,W as c,i as M,z as ie,A as F,a3 as N,a4 as ce,a5 as re,a6 as ue,bI as pe,bH as _e,bt as me,p as fe,bL as he,a9 as ve,aF as ge,aG as Ve,U as xe}from"./main.dc3150f2.js";import"./jspdf.plugin.autotable.5f00a359.js";const V=f=>(ge("data-v-0aa2d12b"),f=f(),Ve(),f),be={class:"me-3",style:{display:"flex",width:"10.5rem","align-items":"center"}},ye=V(()=>t("strong",null,"Show",-1)),Ie=V(()=>t("strong",null,"entries",-1)),Me={class:"app-user-search-filter d-flex align-center flex-wrap gap-4 justify-end"},Pe={style:{display:"flex",width:"17rem","align-items":"center"}},De=V(()=>t("thead",null,[t("tr",null,[t("th",{class:"text-center"},"No."),t("th",{class:"text-center"},"Client Fullname"),t("th",{class:"text-center"},"Date of Request"),t("th",{class:"text-center"},"Edited Uploaded File"),t("th",{class:"text-center"},"Action")])],-1)),Se={class:"text-center"},we={class:"text-center"},Le={class:"text-center"},ke=V(()=>t("br",null,null,-1)),Ce={class:"text-center"},Ue={class:"text-center"},Ae={key:0,class:"tooltip"},Ee={key:0},Fe={colspan:"8"},Ne={style:{"text-align":"center"},class:"mb-5 mt-5"},Te=Q({__name:"upload_documents",setup(f){const x=JSON.parse(localStorage.getItem("editorData")||"null"),i=l([]),T=l(),r=l(),P=l(1),D=[5,20,50,100,500],u=l(D[0]);l(u.value);const b=l(P);l();const S=l(u);l(null),l(),l();const z=C(()=>{const a=(P.value-1)*u.value,s=a+u.value;return i.value.slice(a,s)});let R=C(()=>i.value.length>0?Math.ceil(i.value.length/u.value):0);function q(){b.value=1}const w=JSON.parse(localStorage.getItem("accessToken")||"{}"),B=()=>{y.get(I.API_URL+"editor/editor/search-edited-journal/"+x[0].id,{params:{query:r.value,token:w}}).then(a=>{a.data.success&&(i.value=a.data.searchEdited)}).catch(a=>{console.log("Error")})},J=W.exports.debounce(()=>{r.value===""?L():B()});K([r],J);const L=()=>{y.get(I.API_URL+"editor/editor/get-edited-uploaded-file/"+x[0].id,{params:{token:w}}).then(a=>{a.data.success&&(i.value=a.data.editedData)})},Y=()=>{L()},h=l(!1),$=()=>{h.value=!0},k=l(),j=async()=>{var a;await y.get(I.API_URL+"editor/editor/get-reset-pass-editor/"+((a=x[0])==null?void 0:a.id)).then(s=>{var o;s.data.success&&(k.value=(o=s.data.editor[0])==null?void 0:o.reset_password_status,k.value===1&&$())})};X(async()=>{await j(),Y()});const v=l(null),O=a=>{v.value=a},G=a=>{v.value===a&&(v.value=null)};return(a,s)=>(p(),_("section",null,[e(fe,{title:"Upload Journal List"},{default:n(()=>[e(ee,{class:"d-flex flex-wrap py-4 px-4 gap-2"},{default:n(()=>[t("div",be,[e(U,{style:{"font-size":"small"},class:"mr-1"},{default:n(()=>[ye]),_:1}),e(te,{modelValue:S.value,"onUpdate:modelValue":[s[0]||(s[0]=o=>S.value=o),q],items:D},null,8,["modelValue"]),e(U,{style:{"font-size":"small"},class:"ml-1"},{default:n(()=>[Ie]),_:1})]),e(A),e(A),t("div",Me,[t("div",Pe,[e(ae,{modelValue:r.value,"onUpdate:modelValue":s[1]||(s[1]=o=>r.value=o),label:"Search",class:"search-field",solo:"","append-inner-icon":"mdi-magnify",density:"compact"},null,8,["modelValue"])])])]),_:1}),e(se,{ref_key:"tableRef",ref:T},{default:n(()=>{var o;return[e(le,{hidden:"",class:"mb-5"},{default:n(()=>[e(E,{src:m(oe),alt:"Dit.Ads Logo",class:"logo"},null,8,["src"])]),_:1}),De,t("tbody",null,[(p(!0),_(ne,null,de(m(z),(d,g)=>(p(),_("tr",{key:d.id},[t("td",Se,c(g+1),1),t("td",we,c(d.client.firstname)+" "+c(d.client.middlename)+" "+c(d.client.lastname),1),t("td",Le,[M(c(m(Z)(d.date_time_requests).format("MMMM DD, YYYY"))+" ",1),ke]),t("td",Ce,c(d.uploaded_file),1),t("td",Ue,[e(ie,{icon:"",size:"x-small",variant:"text",class:"icon-container"},{default:n(()=>[e(F,{icon:"tabler-table-options",size:"22",onMouseenter:H=>O(g),onMouseleave:H=>G(g)},null,8,["onMouseenter","onMouseleave"]),v.value===g?(p(),_("span",Ae,"Click Me")):N("",!0),e(ce,{activator:"parent"},{default:n(()=>[e(re,null,{default:n(()=>[e(ue,{to:"/editor/upload-published-view/"+d.id},{default:n(()=>[e(F,null,{default:n(()=>[M("material-symbols:visibility-outline-rounded")]),_:1}),M(" Publish Document ")]),_:2},1032,["to"])]),_:2},1024)]),_:2},1024)]),_:2},1024)])]))),128))]),((o=i.value)==null?void 0:o.length)==0?(p(),_("tfoot",Ee,[t("tr",null,[t("td",Fe,[t("div",Ne,[e(E,{src:m(pe),style:{display:"inline-block","max-width":"100%",width:"35%",height:"55%","object-fit":"cover"}},null,8,["src"]),e(_e,{color:"primary",indeterminate:"",reverse:""})])])])])):N("",!0)]}),_:1},512),e(me,{length:m(R),modelValue:b.value,"onUpdate:modelValue":s[2]||(s[2]=o=>b.value=o)},null,8,["length","modelValue"])]),_:1}),e(ve,{modelValue:h.value,"onUpdate:modelValue":s[4]||(s[4]=o=>h.value=o),scrollable:"","max-width":"400",persistent:""},{default:n(()=>[e(he,{onClose:s[3]||(s[3]=o=>h.value=!1)})]),_:1},8,["modelValue"])]))}});const Be=xe(Te,[["__scopeId","data-v-0aa2d12b"]]);export{Be as default};
