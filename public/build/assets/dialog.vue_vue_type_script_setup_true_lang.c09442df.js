import{d as k,a as i,o as V,c as u,e as f,f as e,w as a,l as d,ay as w,i as g,m as x,n as F,s as _,z as C,k as y,p as B,F as R,C as T}from"./main.dc3150f2.js";import{_ as j}from"./DialogCloseBtn.vue_vue_type_script_setup_true_lang.d9594284.js";import{V as E}from"./VFileInput.a98189c2.js";const U=["src"],b=["src"],P=k({__name:"dialog",props:["image"],emits:["closeDialog"],setup(h,{emit:v}){const m=h,l=i(null),r=i(null),c=i(),p=()=>{v("closeDialog")},D=()=>{var o;if(((o=l.value)==null?void 0:o.files)&&l.value.files.length>0){const n=l.value.files[0],t=new FileReader;t.onload=s=>{s.target&&typeof s.target.result=="string"&&(r.value=s.target.result)},t.readAsDataURL(n)}};i();const I=()=>{var t;if(!((t=l.value)!=null&&t.files)||l.value.files.length===0)return;const o=l.value.files[0],n=new FormData;n.append("image",o),T.post(`/api/auth/image/${c.value}`,n,{headers:{"Content-Type":"multipart/form-data"}}).then(s=>{}).catch(s=>{console.error("Error updating image:",s)})};return V(()=>{c.value=m.image.id,console.log(c.value,"IDIDIDID")}),(o,n)=>{const t=j;return u(),f(R,null,[e(t,{onClick:p}),e(B,null,{default:a(()=>[e(d,null,{default:a(()=>[e(w,{class:"mb-5"},{default:a(()=>[g("PROFILE")]),_:1}),e(d,null,{default:a(()=>[e(x,null,{default:a(()=>[e(F,{cols:"12"},{default:a(()=>[e(E,{ref_key:"fileInput",ref:l,onChange:D,chips:"",label:"Select File",accept:".jpg,.jpeg,.png,.doc,.docx,.pdf"},null,512),_(r)?(u(),f("img",{key:0,src:_(r),alt:"Image Preview",class:"preview-image"},null,8,U)):(u(),f("img",{key:1,src:"/storage/images/"+m.image.image,alt:"Image",class:"circle-image"},null,8,b))]),_:1})]),_:1}),e(C,{onClick:y(I,["prevent"])},{default:a(()=>[g(" Update ")]),_:1},8,["onClick"])]),_:1})]),_:1}),e(d,{class:"d-flex justify-end"},{default:a(()=>[e(C,{onClick:p},{default:a(()=>[g(" Close ")]),_:1})]),_:1})]),_:1})],64)}}});export{P as _};
