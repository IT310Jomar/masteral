import{d as Le,a as i,aO as ae,bM as Pe,Z as Te,C as oe,D as ne,o as Ue,c as u,e as x,f as e,w as l,l as se,m as Me,n as ie,z as C,k as L,i as r,M as o,aZ as re,aI as He,S as de,s as c,bJ as P,A as m,q as ze,bs as qe,a1 as T,F as Fe,G as Ne,W as p,a0 as Re,E as _,a8 as ue,a3 as h,a4 as Be,a5 as We,a6 as U,bI as Ge,bH as Je,bt as Ze,p as je,a9 as k,aF as Oe,aG as Xe,U as Ye}from"./main.dc3150f2.js";import{E as Qe}from"./jspdf.plugin.autotable.5f00a359.js";import{e as Ke}from"./excellClient.3f24051c.js";import{_ as et}from"./add_editor-dialog.vue_vue_type_script_setup_true_lang.6ff778d5.js";import{_ as tt}from"./edit_editor-dialog.vue_vue_type_script_setup_true_lang.578c8997.js";import{_ as lt}from"./editorPrintDialog.vue_vue_type_style_index_0_lang.ee7e9afb.js";import{_ as at}from"./active-dialog.vue_vue_type_script_setup_true_lang.45fa34a7.js";import{_ as ot}from"./disabled-dialog.vue_vue_type_script_setup_true_lang.93bc212e.js";import"./exceljs.min.6ef7067d.js";import"./DialogCloseBtn.vue_vue_type_script_setup_true_lang.d9594284.js";const F=I=>(Oe("data-v-679a8fae"),I=I(),Xe(),I),nt={class:"me-3",style:{width:"10.5rem",display:"flex","align-items":"center"}},st=F(()=>o("strong",null,"Show",-1)),it=F(()=>o("strong",null,"entries",-1)),rt={class:"app-user-search-filter d-flex align-center flex-wrap gap-4 justify-end"},dt={style:{width:"17rem",display:"flex","align-items":"center"}},ut=F(()=>o("thead",null,[o("tr",null,[o("th",null,"No."),o("th",{class:"text-center"},"Image"),o("th",null,"Full Name"),o("th",null,"Contact"),o("th",null,"Account Status"),o("th",null,"Action")])],-1)),ct={class:"profile-card text-center mb-2"},mt={class:"profile-card-photo"},ft={key:0,class:"tooltip"},pt={key:0},vt={colspan:"8"},gt={style:{"text-align":"center"},class:"mb-5 mt-5"},_t=Le({__name:"editorList",setup(I){const v=i([]),M=i(),y=i(null),N=i(1),R=[5,20,50,100,500],b=i(R[0]);i(b.value);const H=i(N),V=i(),B=i(b);i();const W=ae(()=>{const n=(N.value-1)*b.value,a=n+b.value;return v.value.slice(n,a)});let ce=ae(()=>v.value.length>0?Math.ceil(v.value.length/b.value):0);function me(){H.value=1}const fe=()=>{oe.get(ne.API_URL+"auth/admin/search-editors",{params:{query:y.value,token:j}}).then(n=>{n.data.success&&(v.value=n.data.searchEditor)}).catch(n=>{console.log("Error")})},pe=Pe.exports.debounce(()=>{y.value===""?z():fe()});Te([y],pe);const ve=()=>{V.value=!0,V.value==!0&&setTimeout(()=>{window.print()},1e3),window.addEventListener("beforeprint",()=>{}),window.addEventListener("afterprint",()=>{V.value=!1})};async function ge(n,a){try{const t=new Qe({orientation:"landscape",unit:"mm",format:"legal"}),f=[n][0].$el.querySelector("table"),g=f.querySelector("thead"),O=50,Ce=10,X=5,ke=0,Y=1,Ie=O,Q=X,De=40,K=40,Se="DIT.ADS- Editor List Management Report",Ae=t.internal.pageSize.getWidth()/2;t.setFont("Georgia","bold"),t.text(Se,Ae,30,{align:"center"}),t.addImage(a,"JPEG",Ie,Q,De,K);const ht=t.internal.pageSize.getWidth()-O-Ce,yt=t.internal.pageSize.getHeight()-X-ke,ee=g.querySelectorAll("th"),te=Array.from(ee).map(d=>d.innerText.trim()).filter(d=>d!=="Action"),we=f.querySelectorAll("tbody tr"),Ee=Array.from(we).map(d=>{const q=d.querySelectorAll("td");return Array.from(q).map(le=>ee[le.cellIndex].innerText.trim()!=="Action"?le.innerText.trim():"")}).map(d=>(d.splice(Y,0),d)),$e=te.length+1;t.autoTable({head:[te],body:Ee,startY:Q+K+10,margin:{top:5,right:10,bottom:5,left:10},styles:{cellPadding:2,fontSize:12},headStyles:{fillColor:"#00A36C",textColor:"#000000"},columnStyles:{[$e-1]:{halign:"center"}},didDrawCell:function(d){if(d.column.index===Y){const q=P;t.addImage(q,"JPEG",d.cell.x,d.cell.y,d.cell.width,d.cell.height)}}}),t.save("Dit.Ads.pdf")}catch(t){console.error("Error generating PDF:",t)}}const D=i(!1),S=i(!1),A=i(!1),w=i(!1),G=i(),J=i(),Z=i(),_e=()=>{D.value=!0},he=n=>{G.value=n,S.value=!0},ye=n=>{A.value=!0,J.value=n},be=n=>{w.value=!0,Z.value=n},E=i(null),Ve=n=>{E.value=n},xe=n=>{E.value===n&&(E.value=null)},$=()=>{z()},j=JSON.parse(localStorage.getItem("accessToken")||"{}"),z=()=>{oe.get(ne.API_URL+"auth/admin/get-all-editors",{params:{token:j}}).then(n=>{n.data.success&&(v.value=n.data.editor)})};return Ue(()=>{z()}),(n,a)=>(u(),x("section",null,[e(je,{title:"Editor List"},{default:l(()=>[e(se,null,{default:l(()=>[e(Me,null,{default:l(()=>[e(ie,{style:{"text-align":"right"}},{default:l(()=>[e(C,{onClick:L(_e,["prevent"]),"prepend-icon":"tabler-plus",color:"primary"},{default:l(()=>[r("Add Editor")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1}),e(se,{class:"d-flex flex-wrap py-4 px-4 gap-2"},{default:l(()=>[o("div",nt,[e(re,{style:{"font-size":"small"},class:"mr-1"},{default:l(()=>[st]),_:1}),e(He,{modelValue:B.value,"onUpdate:modelValue":[a[0]||(a[0]=t=>B.value=t),me],items:R},null,8,["modelValue"]),e(re,{style:{"font-size":"small"},class:"ml-1"},{default:l(()=>[it]),_:1})]),e(de),e(C,{color:"error",onClick:a[1]||(a[1]=L(t=>ge(M.value,c(P)),["prevent"]))},{default:l(()=>[e(m,null,{default:l(()=>[r("tabler:file-type-pdf")]),_:1})]),_:1}),e(C,{onClick:a[2]||(a[2]=L(t=>c(Ke)(M.value),["prevent"]))},{default:l(()=>[e(m,null,{default:l(()=>[r("tabler:file-spreadsheet")]),_:1})]),_:1}),e(C,{onClick:L(ve,["prevent"]),color:"warning"},{default:l(()=>[e(m,null,{default:l(()=>[r("tabler:printer")]),_:1})]),_:1},8,["onClick"]),e(de),o("div",rt,[o("div",dt,[e(ze,{modelValue:y.value,"onUpdate:modelValue":a[3]||(a[3]=t=>y.value=t),label:"Search",class:"search-field",solo:"","append-inner-icon":"mdi-magnify",density:"compact"},null,8,["modelValue"])])])]),_:1}),e(qe,{ref_key:"tableRef",ref:M},{default:l(()=>{var t;return[e(ie,{hidden:"",class:"mb-5"},{default:l(()=>[e(T,{src:c(P),alt:"Dit.Ads Logo",class:"logo"},null,8,["src"])]),_:1}),ut,o("tbody",null,[(u(!0),x(Fe,null,Ne(c(W),(s,f)=>(u(),x("tr",{key:s.id},[o("td",null,p(f+1),1),o("td",null,[o("div",ct,[o("div",mt,[e(Re,{class:"cursor-pointer",color:"primary",variant:"tonal",style:{width:"50px",height:"50px","margin-top":"5%","margin-bottom":"2%"}},{default:l(()=>[s.image?(u(),_(T,{key:0,src:"/storage/profile_image/"+s.image,alt:"Uploaded Image",style:{display:"inline-block","max-width":"100%"}},null,8,["src"])):(u(),_(T,{key:1,src:c(P),alt:"Uploaded Image",class:"circle-image",style:{display:"inline-block","max-width":"100%"}},null,8,["src"]))]),_:2},1024)])])]),o("td",null,p(s.firstname)+" "+p(s.middlename)+" "+p(s.lastname),1),o("td",null,p(s.contact),1),o("td",null,[s.status==="Active"&&s.status!=null?(u(),_(ue,{key:0,variant:"outlined",color:"primary"},{default:l(()=>[r(p(s.status),1)]),_:2},1024)):h("",!0),s.status==="Disabled"&&s.status!=null?(u(),_(ue,{key:1,variant:"outlined",color:"error"},{default:l(()=>[r(p(s.status),1)]),_:2},1024)):h("",!0)]),o("td",null,[e(C,{icon:"",size:"x-small",variant:"text",class:"icon-container"},{default:l(()=>[e(m,{icon:"tabler-table-options",size:"22",onMouseenter:g=>Ve(f),onMouseleave:g=>xe(f)},null,8,["onMouseenter","onMouseleave"]),E.value===f?(u(),x("span",ft,"Click Me")):h("",!0),e(Be,{activator:"parent"},{default:l(()=>[e(We,null,{default:l(()=>[e(U,{to:"/admin/editor/view/"+s.id},{default:l(()=>[e(m,null,{default:l(()=>[r("material-symbols:visibility-outline-rounded")]),_:1}),r(" View ")]),_:2},1032,["to"]),e(U,{onClick:g=>he(s)},{default:l(()=>[e(m,null,{default:l(()=>[r("heroicons:pencil-square")]),_:1}),r(" Edit ")]),_:2},1032,["onClick"]),s.status=="Disabled"?(u(),_(U,{key:0,onClick:g=>ye(s.id)},{default:l(()=>[e(m,null,{default:l(()=>[r("material-symbols:interactive-space-outline")]),_:1}),r(" Active ")]),_:2},1032,["onClick"])):h("",!0),s.status=="Active"?(u(),_(U,{key:1,onClick:g=>be(s.id)},{default:l(()=>[e(m,null,{default:l(()=>[r("ic:outline-person-add-disabled")]),_:1}),r(" Disabled ")]),_:2},1032,["onClick"])):h("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)])]))),128))]),((t=v.value)==null?void 0:t.length)==0?(u(),x("tfoot",pt,[o("tr",null,[o("td",vt,[o("div",gt,[e(T,{src:c(Ge),style:{display:"inline-block","max-width":"100%",width:"35%",height:"55%","object-fit":"cover"}},null,8,["src"]),r("Z "),e(Je,{color:"primary",indeterminate:"",reverse:""})])])])])):h("",!0)]}),_:1},512),e(Ze,{length:c(ce),modelValue:H.value,"onUpdate:modelValue":a[4]||(a[4]=t=>H.value=t)},null,8,["length","modelValue"])]),_:1}),e(k,{fullscreen:"",modelValue:V.value,"onUpdate:modelValue":a[5]||(a[5]=t=>V.value=t),transition:"dialog-bottom-transition"},{default:l(()=>[e(lt,{Data:c(W)},null,8,["Data"])]),_:1},8,["modelValue"]),e(k,{modelValue:D.value,"onUpdate:modelValue":a[7]||(a[7]=t=>D.value=t),scrollable:"",width:"60vh"},{default:l(()=>[e(et,{onClose:a[6]||(a[6]=t=>D.value=!1),onHandledata:$})]),_:1},8,["modelValue"]),e(k,{modelValue:S.value,"onUpdate:modelValue":a[9]||(a[9]=t=>S.value=t),scrollable:"",width:"60vh"},{default:l(()=>[e(tt,{onClose:a[8]||(a[8]=t=>S.value=!1),onHandledata:$,row:G.value},null,8,["row"])]),_:1},8,["modelValue"]),e(k,{modelValue:A.value,"onUpdate:modelValue":a[11]||(a[11]=t=>A.value=t),scrollable:"","max-width":"400"},{default:l(()=>[e(at,{onClose:a[10]||(a[10]=t=>A.value=!1),onHandledata:$,activeID:J.value},null,8,["activeID"])]),_:1},8,["modelValue"]),e(k,{modelValue:w.value,"onUpdate:modelValue":a[13]||(a[13]=t=>w.value=t),scrollable:"","max-width":"400"},{default:l(()=>[e(ot,{onClose:a[12]||(a[12]=t=>w.value=!1),onHandledata:$,disabledID:Z.value},null,8,["disabledID"])]),_:1},8,["modelValue"])]))}});const Lt=Ye(_t,[["__scopeId","data-v-679a8fae"]]);export{Lt as default};
