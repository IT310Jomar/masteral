import{d as ae,a as v,cA as se,aO as H,bM as ne,Z as oe,C as A,D as M,o as ue,s as g,c as n,e as I,f as t,w as l,n as b,p as P,m as k,ay as de,i as x,z as ce,A as p,y as D,E as r,l as R,M as e,a0 as re,a1 as N,bJ as ie,W as s,a8 as m,bs as Q,a3 as i,aZ as W,aI as _e,S as me,q as he,F as pe,G as fe,bI as ve,bH as ge,bt as ye,aF as be,aG as xe,U as Ve}from"./main.dc3150f2.js";import{h as ke}from"./moment.40bc58bf.js";const _=S=>(be("data-v-1e14bd81"),S=S(),xe(),S),Se={key:0},we={class:"profile-card text-center mb-2"},Ie={class:"profile-card-photo"},Pe=_(()=>e("div",{style:{"font-weight":"bold"}},null,-1)),De=_(()=>e("div",{style:{"font-weight":"bold"}},null,-1)),Ce=_(()=>e("div",{class:"mb-4"},null,-1)),Ue={class:"text-center mt-2"},qe={class:"text-center mt-1"},Ae=_(()=>e("td",{width:"300px"},[e("strong",null,"Full Name")],-1)),Me=_(()=>e("td",null,[e("strong",null,"Email")],-1)),Re=_(()=>e("td",null,[e("strong",null,"Contact")],-1)),Ne=_(()=>e("td",null,[e("strong",null,"School")],-1)),Le=_(()=>e("td",null,[e("strong",null,"School Type")],-1)),Te=_(()=>e("td",null,[e("strong",null,"Course")],-1)),Fe={class:"me-3",style:{width:"10.5rem",display:"flex","align-items":"center"}},ze=_(()=>e("strong",null,"Show",-1)),Be=_(()=>e("strong",null,"entries",-1)),je={class:"app-user-search-filter d-flex align-center flex-wrap gap-4 justify-end"},Ee={style:{width:"17rem",display:"flex","align-items":"center"}},Je=_(()=>e("thead",null,[e("tr",null,[e("th",{class:"text-center"},"No."),e("th",{class:"text-center"},"Uploaded File"),e("th",{class:"text-center"},"Amount"),e("th",{class:"text-center"},"Date of Request"),e("th",{class:"text-center"},"Status")])],-1)),Ye={class:"text-center"},Ge={class:"text-center"},Oe={class:"text-center"},Ze={class:"text-center"},He={class:"text-center"},Qe={key:0},We={colspan:"8"},Ke={style:{"text-align":"center"},class:"mb-5 mt-5"},Xe=ae({__name:"[id]",setup(S){const L=JSON.parse(localStorage.getItem("userRole")||"{}"),C=JSON.parse(localStorage.getItem("accessToken")||"{}"),a=v(),U=se(),V=v(null),T=v(1),F=[5,20,50,100,500],w=v(F[0]),q=v(T),z=v(w),y=v([]),K=H(()=>{const c=(T.value-1)*w.value,h=c+w.value;return y.value.slice(c,h)});let X=H(()=>y.value.length>0?Math.ceil(y.value.length/w.value):0);function $(){q.value=1}const ee=()=>{A.get(M.API_URL+"auth/admin/search-client-upload-journal/"+U.params.id,{params:{query:V.value,token:C}}).then(c=>{c.data.success&&(y.value=c.data.searchUploadData)}).catch(c=>{console.log("Error")})},te=ne.exports.debounce(()=>{V.value===""?B():ee()});oe([V],te);const le=async()=>{await A.get(M.API_URL+"auth/admin/get-client-data/"+U.params.id,{params:{token:C}}).then(c=>{c.data.success&&(a.value=c.data.client[0])})},B=async()=>{await A.get(M.API_URL+"auth/admin/get-upload-data/"+U.params.id,{params:{token:C}}).then(c=>{c.data.success&&(y.value=c.data.uploaddata)})};return ue(async()=>{await le(),await B()}),(c,h)=>g(L)=="Admin"||g(L)=="God Mode"?(n(),I("section",Se,[t(k,null,{default:l(()=>[t(b,null,{default:l(()=>[t(P,null,{default:l(()=>[t(k,null,{default:l(()=>[t(b,null,{default:l(()=>[t(de,{class:"mt-4"},{default:l(()=>[x("View Information "),t(ce,{link:"",to:"/admin/client/clientlist",class:"d-flex float-right mr-5"},{default:l(()=>[t(p,{size:"large"},{default:l(()=>[x("tabler:arrow-back-up")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(D,{class:"mt-2"}),a.value?(n(),r(R,{key:0},{default:l(()=>[t(k,null,{default:l(()=>[t(b,null,{default:l(()=>[t(P,{class:"d-flex flex-column mb-4 mt-3"},{default:l(()=>{var u;return[e("div",null,[e("div",null,[e("div",we,[e("div",Ie,[t(re,{class:"cursor-pointer",color:"secondary",variant:"tonal",style:{width:"200px",height:"200px","margin-top":"10%","margin-bottom":"3%"}},{default:l(()=>{var o,f;return[(o=a.value)!=null&&o.image?(n(),r(N,{key:0,src:"/storage/profile_image/"+((f=a.value)==null?void 0:f.image)},null,8,["src"])):(n(),r(N,{key:1,src:g(ie)},null,8,["src"]))]}),_:1})]),Pe,De,Ce,e("h3",Ue,s(a.value.firstname)+" "+s((u=a.value)==null?void 0:u.middlename)+" "+s(a.value.lastname),1),e("h1",qe,[t(m,{color:"blue",variant:"outlined",size:"small"},{default:l(()=>[x(s(a.value.users.roles.name),1)]),_:1})])])])])]}),_:1}),t(k,null,{default:l(()=>[t(b,{style:{"text-align":"center"},class:"mt-5"})]),_:1})]),_:1}),t(b,{cols:"12",md:"8",lg:"8"},{default:l(()=>[t(P,{class:"headline mb-8",title:"Personal Information",tabindex:"-1"},{default:l(()=>[t(D),t(R,null,{default:l(()=>[t(Q,{tabindex:"-1"},{default:l(()=>{var u,o,f,j,E,J,Y,G,O,Z;return[e("tbody",null,[e("tr",null,[Ae,e("td",null,[((u=a.value)==null?void 0:u.lastname)!=null&&((o=a.value)==null?void 0:o.firstname)!=null?(n(),r(m,{key:0,color:"blue",variant:"outlined"},{default:l(()=>[t(p,{start:"",icon:"mdi-account-circle-outline"}),e("b",null,s(a.value.firstname)+" "+s(a.value.lastname)+" "+s(a.value.middlename),1)]),_:1})):i("",!0)])]),e("tr",null,[Me,e("td",null,[((f=a.value.users)==null?void 0:f.email)!=null?(n(),r(m,{key:0,color:"success",variant:"outlined"},{default:l(()=>{var d;return[t(p,{start:"",icon:"ic:twotone-mail-outline"}),e("b",null,s((d=a.value.users)==null?void 0:d.email),1)]}),_:1})):i("",!0)])]),e("tr",null,[Re,e("td",null,[((j=a.value)==null?void 0:j.contact)!=null?(n(),r(m,{key:0,color:"warning",variant:"outlined"},{default:l(()=>{var d;return[t(p,{start:"",icon:"material-symbols:phone-android-outline"}),e("b",null,s((d=a.value)==null?void 0:d.contact),1)]}),_:1})):i("",!0)])]),e("tr",null,[Ne,e("td",null,[((E=a.value)==null?void 0:E.school)!=null?(n(),r(m,{key:0,color:"success",variant:"outlined"},{default:l(()=>{var d;return[t(p,{start:"",icon:"teenyicons:school-outline"}),e("b",null,s((d=a.value)==null?void 0:d.school),1)]}),_:1})):i("",!0)])]),e("tr",null,[Le,e("td",null,[((J=a.value.school_type)==null?void 0:J.name)!=null&&((Y=a.value.school_type)==null?void 0:Y.name)==="Public"?(n(),r(m,{key:0,color:"blue",variant:"outlined"},{default:l(()=>{var d;return[t(p,{start:"",icon:"iconoir:learning"}),e("b",null,s((d=a.value.school_type)==null?void 0:d.name),1)]}),_:1})):i("",!0),((G=a.value.school_type)==null?void 0:G.name)!=null&&((O=a.value.school_type)==null?void 0:O.name)==="Private"?(n(),r(m,{key:1,color:"warning",variant:"outlined"},{default:l(()=>{var d;return[t(p,{start:"",icon:"iconoir:learning"}),e("b",null,s((d=a.value.school_type)==null?void 0:d.name),1)]}),_:1})):i("",!0)])]),e("tr",null,[Te,e("td",null,[((Z=a.value)==null?void 0:Z.course)!=null?(n(),r(m,{key:0,color:"error",variant:"outlined"},{default:l(()=>[t(p,{start:"",icon:"guidance:golf-course"}),e("b",null,s(a.value.course),1)]),_:1})):i("",!0)])])])]}),_:1}),t(D)]),_:1})]),_:1})]),_:1})]),_:1}),t(k,null,{default:l(()=>[t(b,null,{default:l(()=>[t(P,{class:"headline mb-8",title:"Upload Journal List"},{default:l(()=>[t(D),t(R,{class:"d-flex flex-wrap py-4 px-4 gap-2"},{default:l(()=>[e("div",Fe,[t(W,{style:{"font-size":"small"},class:"mr-1"},{default:l(()=>[ze]),_:1}),t(_e,{modelValue:z.value,"onUpdate:modelValue":[h[0]||(h[0]=u=>z.value=u),$],items:F},null,8,["modelValue"]),t(W,{style:{"font-size":"small"},class:"ml-1"},{default:l(()=>[Be]),_:1})]),t(me),e("div",je,[e("div",Ee,[t(he,{modelValue:V.value,"onUpdate:modelValue":h[1]||(h[1]=u=>V.value=u),label:"Search",class:"search-field",solo:"","append-inner-icon":"mdi-magnify",density:"compact"},null,8,["modelValue"])])])]),_:1}),t(Q,null,{default:l(()=>{var u;return[Je,e("tbody",null,[(n(!0),I(pe,null,fe(g(K),(o,f)=>(n(),I("tr",{key:o.id},[e("td",Ye,s(f+1),1),e("td",Ge,s(o.uploaded_file),1),e("td",Oe,s(o.payment.amount),1),e("td",Ze,s(g(ke)(o.date_time_requests).format("MMMM DD, YYYY")),1),e("td",He,[o.request_status=="Approved"?(n(),r(m,{key:0,color:"success",variant:"outlined"},{default:l(()=>[x(s(o.request_status),1)]),_:2},1024)):i("",!0),o.request_status=="Pending"?(n(),r(m,{key:1,color:"warning",variant:"outlined"},{default:l(()=>[x(s(o.request_status),1)]),_:2},1024)):i("",!0),o.request_status=="Rejected"?(n(),r(m,{key:2,color:"error",variant:"outlined"},{default:l(()=>[x(s(o.request_status),1)]),_:2},1024)):i("",!0)])]))),128))]),((u=y.value)==null?void 0:u.length)==0?(n(),I("tfoot",Qe,[e("tr",null,[e("td",We,[e("div",Ke,[t(N,{src:g(ve),style:{display:"inline-block","max-width":"100%",width:"35%",height:"55%","object-fit":"cover"}},null,8,["src"]),t(ge,{color:"primary",indeterminate:"",reverse:""})])])])])):i("",!0)]}),_:1}),t(ye,{length:g(X),modelValue:q.value,"onUpdate:modelValue":h[2]||(h[2]=u=>q.value=u)},null,8,["length","modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})):i("",!0)]),_:1})]),_:1})]),_:1})])):i("",!0)}});const tt=Ve(Xe,[["__scopeId","data-v-1e14bd81"]]);export{tt as default};
