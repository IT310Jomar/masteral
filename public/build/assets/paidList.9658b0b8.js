import{h as J}from"./moment.40bc58bf.js";import{d as Z,a as l,aO as R,bM as H,Z as Q,C as S,D as C,o as W,c as o,e as r,f as a,w as d,l as $,M as e,aZ as U,aI as K,S as T,q as X,bs as w,n as ee,a1 as B,s as f,bJ as te,F as ae,G as se,W as c,E as h,a8 as u,i as m,a3 as x,bI as ne,bH as le,bt as oe,p as ce,a9 as de,aF as ie,aG as re,U as ue}from"./main.dc3150f2.js";import"./jspdf.plugin.autotable.5f00a359.js";import{_ as me}from"./paidPrintDialog.vue_vue_type_style_index_0_lang.1ca871c0.js";const v=g=>(ie("data-v-012f6452"),g=g(),re(),g),_e={class:"me-3",style:{display:"flex",width:"10.5rem","align-items":"center"}},pe=v(()=>e("strong",null,"Show",-1)),fe=v(()=>e("strong",null,"entries",-1)),he={class:"app-user-search-filter d-flex align-center flex-wrap gap-4 justify-end"},ye={style:{display:"flex",width:"17rem","align-items":"center"}},ve=v(()=>e("thead",null,[e("tr",null,[e("th",{class:"text-center"},"No."),e("th",{class:"text-center"},"Client Fullname"),e("th",{class:"text-center"},"Mode of Payment"),e("th",{class:"text-center"},"Amount"),e("th",{class:"text-center"},"Sender Account Number"),e("th",{class:"text-center"},"Reference/O.R Number"),e("th",{class:"text-center"},"Date of Payment"),e("th",{class:"text-center"},"Status")])],-1)),ge={class:"text-center"},xe={class:"text-center"},Ve={class:"text-center"},be={class:"text-center text-success"},Pe={key:0,class:"text-center"},ke={key:1,class:"text-center"},Se=v(()=>e("h5",null,"No Sender Account Number",-1)),Ce=[Se],De={key:2,class:"text-center"},Ie={key:3,class:"text-center"},Le={key:4,class:"text-center"},Ne=v(()=>e("h5",null,"No Reference/O.R Number",-1)),Ae=[Ne],Me={class:"text-center"},Re={class:"text-center"},Ue={key:0},Te={colspan:"8"},Be={style:{"text-align":"center"},class:"mb-5 mt-5"},Fe=Z({__name:"paidList",setup(g){const _=l([]),F=l(),p=l(),D=l(1),I=[5,20,50,100,500],y=l(I[0]);l(y.value);const V=l(D),L=l(),N=l(y);l(null),l(),l();const A=R(()=>{const s=(D.value-1)*y.value,n=s+y.value;return _.value.slice(s,n)});let G=R(()=>_.value.length>0?Math.ceil(_.value.length/y.value):0);function O(){V.value=1}const M=()=>{S.get(C.API_URL+"auth/admin/search-paid-accounts",{params:{query:p.value,paymentmode:k.value,token:b}}).then(s=>{s.data.success&&(_.value=s.data.searchApproved)}).catch(s=>{console.log("Error")})},Y=H.exports.debounce(()=>{p.value===""?P():p.value?(k.value=[],M()):k.value!==""?M():P()});Q([p],Y);const b=JSON.parse(localStorage.getItem("accessToken")||"{}"),P=()=>{S.get(C.API_URL+"auth/admin/get-paid-accounts-lists",{params:{token:b}}).then(s=>{s.data.success&&(_.value=s.data.approveddata)})},k=l(),j=l(),z=()=>{S.get(C.API_URL+"client/client/get-mode-of-payment",{params:{token:b}}).then(s=>{if(s.data.success&&s.data.mode){const i=[];for(var n=0;n<s.data.mode.length;n++){const t={item:s.data.mode[n].name,value:s.data.mode[n].id};i.push(t)}j.value=i}})},E=()=>{P(),z()};return W(()=>{E()}),l(null),(s,n)=>(o(),r("section",null,[a(ce,{title:"Paid List"},{default:d(()=>[a($,{class:"d-flex flex-wrap py-4 px-4 gap-2"},{default:d(()=>[e("div",_e,[a(U,{style:{"font-size":"small"},class:"mr-1"},{default:d(()=>[pe]),_:1}),a(K,{modelValue:N.value,"onUpdate:modelValue":[n[0]||(n[0]=i=>N.value=i),O],items:I},null,8,["modelValue"]),a(U,{style:{"font-size":"small"},class:"ml-1"},{default:d(()=>[fe]),_:1})]),a(T),a(T),e("div",he,[e("div",ye,[a(X,{modelValue:p.value,"onUpdate:modelValue":n[1]||(n[1]=i=>p.value=i),label:"Search",class:"search-field",solo:"","append-inner-icon":"mdi-magnify",density:"compact"},null,8,["modelValue"])])])]),_:1}),a(w,{ref_key:"tableRef",ref:F},{default:d(()=>{var i;return[a(ee,{hidden:"",class:"mb-5"},{default:d(()=>[a(B,{src:f(te),alt:"Dit.Ads Logo",class:"logo"},null,8,["src"])]),_:1}),ve,e("tbody",null,[(o(!0),r(ae,null,se(f(A),(t,q)=>(o(),r("tr",{key:t.id},[e("td",ge,c(q+1),1),e("td",xe,c(t.client.firstname)+" "+c(t.client.middlename)+" "+c(t.client.lastname),1),e("td",Ve,[t.modeofpayment.name=="Cash"?(o(),h(u,{key:0,color:"red",variant:"tonal"},{default:d(()=>[m(c(t.modeofpayment.name),1)]),_:2},1024)):t.modeofpayment.name=="GCash"?(o(),h(u,{key:1,color:"blue",variant:"tonal"},{default:d(()=>[m(c(t.modeofpayment.name),1)]),_:2},1024)):(o(),h(u,{key:2,color:"success",variant:"tonal"},{default:d(()=>[m(c(t.modeofpayment.name),1)]),_:2},1024))]),e("td",be,[a(u,{color:"primary",variant:"outlined",label:""},{default:d(()=>[m("\u20B1"+c(t.amount)+".00",1)]),_:2},1024)]),t.account?(o(),r("td",Pe,c(t.account),1)):(o(),r("td",ke,Ce)),t.modeofpayment.name=="Cash"?(o(),r("td",De,c(t.or_number),1)):t.modeofpayment.name=="GCash"?(o(),r("td",Ie,c(t.reference_number),1)):(o(),r("td",Le,Ae)),e("td",Me,c(f(J)(t.date_of_payment).format("MMMM DD, YYYY")),1),e("td",Re,[t.payment_status=="Approved"?(o(),h(u,{key:0,color:"success",variant:"outlined"},{default:d(()=>[m(c(t.payment_status),1)]),_:2},1024)):x("",!0),t.payment_status=="Pending"?(o(),h(u,{key:1,color:"warning",variant:"outlined"},{default:d(()=>[m(c(t.payment_status),1)]),_:2},1024)):x("",!0),t.payment_status=="Rejected"?(o(),h(u,{key:2,color:"error",variant:"outlined"},{default:d(()=>[m(c(t.payment_status),1)]),_:2},1024)):x("",!0)])]))),128))]),((i=_.value)==null?void 0:i.length)==0?(o(),r("tfoot",Ue,[e("tr",null,[e("td",Te,[e("div",Be,[a(B,{src:f(ne),style:{display:"inline-block","max-width":"100%",width:"35%",height:"55%","object-fit":"cover"}},null,8,["src"]),a(le,{color:"primary",indeterminate:"",reverse:""})])])])])):x("",!0)]}),_:1},512),a(oe,{length:f(G),modelValue:V.value,"onUpdate:modelValue":n[2]||(n[2]=i=>V.value=i)},null,8,["length","modelValue"])]),_:1}),a(de,{fullscreen:"",modelValue:L.value,"onUpdate:modelValue":n[3]||(n[3]=i=>L.value=i),transition:"dialog-bottom-transition"},{default:d(()=>[a(me,{Data:f(A)},null,8,["Data"])]),_:1},8,["modelValue"])]))}});const ze=ue(Fe,[["__scopeId","data-v-012f6452"]]);export{ze as default};
