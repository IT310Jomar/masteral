import{d as H,b as $,a as p,o as G,c as u,e as f,f as a,w as l,l as F,M as d,W as o,a3 as c,s as w,j as Q,E as h,m as g,y as C,n as D,t as X,b7 as Z,z as _,i as m,k as ee,p as te,B as P,aJ as ae,a9 as le,C as z,D as B,U as se}from"./main.dc3150f2.js";import{V as oe}from"./VFileInput.a98189c2.js";const ne={class:"mb-5"},ie={style:{"text-align":"justify"}},ue={key:0},re={key:1},de={key:2},ce={key:3},pe={key:0},fe={key:1},me={key:2,class:"mt-3 text-center"},ve={class:"mt-3 text-center"},he=H({__name:"upload-dialog",props:["row"],emits:["close","paymentData"],setup(I,{emit:k}){const U=I,A=$(),N=JSON.parse(localStorage.getItem("clientData")||"{}"),R=JSON.parse(localStorage.getItem("accessToken")||"{}"),x=p(),V=()=>{k("close")};p(!1);const e=p(0),t=[{title:"Step 1: File Naming",example:"Smith_Jones_2023_Research_Paper.pdf",sub1:"Author(s) last name(s)",sub2:"Publication year",sub3:"Title of the paper (shortened if necessary)",description:"Choose a descriptive and standardized file name that includes essential information. A common format is to use the following elements separated by underscores:"},{title:"Step 2: PDF Formatting",sub1:"Use a standard paper size, typically A4 (8.5 x 11) or letter (8.5 x 11).",sub2:"Use a readable font, such as Times New Roman, Arial, or similar, with a size of 12-point.",sub3:"Maintain consistent margins (1-inch or 2.54 cm) on all sides.",sub4:"Include page numbers at the bottom or top of the page.",description:"Ensure that your PDF file adheres to these formatting standards:"},{title:"Step 3: Abstract",description:"Include a concise abstract at the beginning of the paper. The abstract should summarize the research, methods, key findings, and conclusions in a clear and concise manner (usually 150-250 words)."},{title:"Step 4: Upload Your File",sub1:"That's it! Your PDF file is ready for upload. If you have any questions or encounter issues during the process, feel free to reach out for assistance. Happy uploading!",description:"When you reach this step, use the file input field to select your PDF file. Ensure the file is in PDF format for compatibility. Once selected, proceed to the next step."}],T=()=>{e.value<t.length-1&&e.value++},E=()=>{e.value>0&&e.value--},r=p(null),M=p(null),J=()=>{if(r.value&&r.value.files&&r.value.files.length>0){const n=r.value.files[0],s=new FileReader;s.onload=i=>{i.target&&typeof i.target.result=="string"&&(M.value=i.target.result)},s.readAsDataURL(n)}},K=()=>r.value&&r.value.files&&r.value.files[0].size>2097152?`File size must be less than ${2048} KB`:!0,v=p(!1),b=p(!1),y=p(!1),q=()=>{v.value=!0},S=()=>{v.value=!1},L=()=>{var n;q(),(n=x.value)==null||n.validate().then(({valid:s})=>{s?(O(),b.value=!0,S()):(y.value=!0,S())})},O=()=>{var s;const n=new FormData;if(n.append("client_id",N[0].id),n.append("payment_id",U.row.id),((s=r.value)==null?void 0:s.files)&&r.value.files.length>0){const i=r.value.files[0];n.append("filepdf",i)}z.post(B.API_URL+"client/client/post-uploadpdf",n).then(i=>{i.data.success&&(A.push("/client/my-request/pending"),k("paymentData",i.data),V())})},Y=p(),j=()=>{z.get(B.API_URL+"client/client/get-mode-of-payment",{params:{token:R}}).then(n=>{n.data.success&&(Y.value=n.data.mode)})},W=()=>{j()};return G(()=>{W()}),(n,s)=>(u(),f("section",null,[a(te,{class:"step-card d-flex flex-column flex-grow-1 overflow-auto"},{default:l(()=>[a(F,null,{default:l(()=>[d("h2",ne,o(t[e.value].title),1),d("p",ie,o(t[e.value].description),1),d("ul",null,[e.value===0?(u(),f("li",ue,o(t[e.value].sub1),1)):c("",!0),e.value===0?(u(),f("li",re,o(t[e.value].sub2),1)):c("",!0),e.value===0?(u(),f("li",de,o(t[e.value].sub3),1)):c("",!0),e.value===0?(u(),f("li",ce,o(t[e.value].sub4),1)):c("",!0)]),e.value===1?(u(),f("ul",pe,[d("li",null,o(t[e.value].sub1),1),d("li",null,o(t[e.value].sub2),1),d("li",null,o(t[e.value].sub3),1),d("li",null,o(t[e.value].sub4),1)])):c("",!0),e.value===2?(u(),f("ul",fe,[d("li",null,o(t[e.value].sub1),1),d("li",null,o(t[e.value].sub2),1),d("li",null,o(t[e.value].sub3),1)])):c("",!0),e.value===3?(u(),f("h5",me,o(t[e.value].sub1),1)):c("",!0),d("h5",ve,o(t[e.value].example),1),a(w(Q),{ref_key:"refsubmit",ref:x,class:"mb-5"},{default:l(()=>[e.value===t.length-1?(u(),h(g,{key:0},{default:l(()=>[a(C,{class:"mt-2"}),a(F,null,{default:l(()=>[a(g,null,{default:l(()=>[a(D,{class:"mb-2",cols:"12"},{default:l(()=>[a(oe,{accept:".pdf",ref_key:"fileInputFile",ref:r,chips:"",rules:[w(X),K],label:"Select File",onChange:J,"prepend-icon":"tabler:file-type-pdf"},null,8,["rules"])]),_:1})]),_:1})]),_:1})]),_:1})):c("",!0)]),_:1},512),a(g,null,{default:l(()=>[a(D,{class:"text-right",style:{"margin-bottom":"-5%"}},{default:l(()=>[a(C,{class:"mt-2 mb-3"}),a(Z,null,{default:l(()=>[e.value===0?(u(),h(_,{key:0,color:"error",onClick:V,"prepend-icon":"tabler:arrow-back"},{default:l(()=>[m("Back")]),_:1})):c("",!0),e.value>0?(u(),h(_,{key:1,color:"error",onClick:E,"prepend-icon":"tabler:arrow-back"},{default:l(()=>[m("Previous")]),_:1})):c("",!0),e.value===t.length-1?(u(),h(_,{key:2,onClick:ee(L,["prevent"]),class:"mr-1",type:"submit","prepend-icon":"tabler:file-upload"},{default:l(()=>[m("Upload")]),_:1},8,["onClick"])):c("",!0),a(_,{color:"blue",onClick:T,hidden:e.value===t.length-1,"append-icon":"tabler:arrow-forward"},{default:l(()=>[m("Next")]),_:1},8,["hidden"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(P,{modelValue:b.value,"onUpdate:modelValue":s[0]||(s[0]=i=>b.value=i),timeout:4e3,color:"success"},{default:l(()=>[m(" Success! Uploaded! ")]),_:1},8,["modelValue"]),a(P,{modelValue:y.value,"onUpdate:modelValue":s[1]||(s[1]=i=>y.value=i),timeout:4e3,color:"error"},{default:l(()=>[m(" Erorr! Please Check Your Field! ")]),_:1},8,["modelValue"]),a(le,{modelValue:v.value,"onUpdate:modelValue":s[2]||(s[2]=i=>v.value=i),"max-width":"300"},{default:l(()=>[a(ae)]),_:1},8,["modelValue"])]))}});const ye=se(he,[["__scopeId","data-v-f95d3e0d"]]);export{ye as default};
