import{_ as F}from"./ErrorHeader.vue_vue_type_script_setup_true_lang.814619c2.js";import{d as J,cp as L,cq as O,cr as H,b as W,cA as G,a as f,o as Y,c as l,e as I,f as e,w as a,z as S,A as m,i as u,y as v,E as s,l as g,s as d,m as _,n,p as k,a1 as c,bJ as z,j as $,V as K,a0 as V,M as o,W as i,a3 as w,a7 as Q,a9 as X,aF as Z,aG as ee,C as ae,D as te,U as le}from"./main.dc3150f2.js";import{V as se}from"./vue3-pdf-app.umd.bbeacf02.js";/* empty css             */import oe from"./reupload.1ffde568.js";import{p as re}from"./401_error.6e3d3e3f.js";import"./released.vue_vue_type_script_setup_true_lang.3113d485.js";import"./VFileInput.a98189c2.js";const x=h=>(Z("data-v-67600339"),h=h(),ee(),h),ue=x(()=>o("div",{class:"loading-container"},[o("div",{class:"loading-spinner"}),o("p",null,"Please Wait...")],-1)),ne={key:0,style:{height:"80vh"}},ie={key:1,style:{height:"80vh"}},de={class:"ml-3",style:{"font-size":"medium"}},ce={class:"ml-3",style:{"font-size":"medium"}},me=x(()=>o("h5",null,"Contact Info",-1)),_e=x(()=>o("br",null,null,-1)),pe=x(()=>o("br",null,null,-1)),fe={class:"misc-wrapper"},ve={class:"text-center",style:{"margin-bottom":"-2%"}},ge={class:"misc-avatar w-100 text-center"},he=J({__name:"[id]",setup(h){const R=L(H,O),A=W(),P=G(),C=f(),D=f(!0),M=JSON.parse(localStorage.getItem("editorData")||"{}"),N={sidebar:{viewThumbnail:!0,viewOutline:!1,viewAttachments:!1},secondaryToolbar:{secondaryPresentationMode:!0,secondaryOpenFile:!0,secondaryPrint:!0,secondaryDownload:!0,secondaryViewBookmark:!0,firstPage:!0,lastPage:!0,pageRotateCw:!0,pageRotateCcw:!0,cursorSelectTool:!0,cursorHandTool:!0,scrollVertical:!0,scrollHorizontal:!0,scrollWrapped:!0,spreadNone:!0,spreadOdd:!0,spreadEven:!0,documentProperties:!0},toolbar:{toolbarViewerLeft:{findbar:!0,previous:!0,next:!0,pageNumber:!0},toolbarViewerRight:{presentationMode:!0,openFile:!1,print:!1,download:!0,viewBookmark:!1},toolbarViewerMiddle:{zoomOut:!1,zoomIn:!1,scaleSelectContainer:!0}},errorWrapper:!1},t=f(),y=f(!1),T=f(),q=()=>{y.value=!0,T.value=P.params.id},U=JSON.parse(localStorage.getItem("accessToken")||"{}"),j=()=>{D.value=!0,ae.get(te.API_URL+"auth/admin/get-uploaded-journal/"+P.params.id,{params:{token:U}}).then(p=>{p.data.success&&(t.value=p.data.requestData[0],t.value&&"editor_uploaded_file"in t.value&&(C.value="/storage/published_journals/"+p.data.requestData[0].editor_uploaded_file,t.value.edited_upload===0&&A.push("/editor/published_journals")))}).finally(()=>{D.value=!1}).catch(p=>{console.log("error")})},B=()=>{j()};return Y(()=>{B()}),(p,b)=>{const E=F;return l(),I("section",null,[e(k,{title:"Upload Published Journal"},{default:a(()=>[e(S,{link:"",to:"/editor/publish/upload_documents",class:"d-flex float-right mr-5",style:{"margin-top":"-5%"}},{default:a(()=>[e(m,{size:"large"},{default:a(()=>[u("tabler:arrow-back-up")]),_:1})]),_:1}),e(v,{class:"mt-2"}),D.value?(l(),s(g,{key:0},{default:a(()=>[ue]),_:1})):t.value&&t.value.editor_status==="Approved"&&t.value.release_status===1&&t.value.editor_id===d(M)[0].id?(l(),s(g,{key:1},{default:a(()=>[e(_,null,{default:a(()=>[e(n,{cols:"8"},{default:a(()=>[e(k,null,{default:a(()=>[C.value==="/storage/published_journals/null"?(l(),I("div",ne,[e(c,{src:d(z),style:{display:"inline-block","max-width":"100%",width:"100%",height:"100%","object-fit":"cover"}},null,8,["src"])])):(l(),I("div",ie,[e(d(se),{style:{margin:"20px",padding:"10px"},pdf:C.value,config:N},null,8,["pdf"])]))]),_:1})]),_:1}),t.value?(l(),s(n,{key:0,cols:"4"},{default:a(()=>[e($,{ref:"refsubmit"},{default:a(()=>[e(K,null,{default:a(()=>[e(_,null,{default:a(()=>[e(n,{class:"text-center"},{default:a(()=>[e(S,{color:"red",variant:"outlined",onClick:q},{default:a(()=>[e(m,{start:"",size:"25",icon:"tabler:pencil-down"}),u(" Upload Edited Journal ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},512),t.value.request_status=="Approved"?(l(),s(k,{key:0,class:"mt-3",title:"Edited By:"},{default:a(()=>[e(v),e(g,null,{default:a(()=>[e(_,null,{default:a(()=>[e(n,null,{default:a(()=>{var r;return[e(V,{color:"primary",variant:"tonal"},{default:a(()=>[t.value.editor.image?(l(),s(c,{key:0,src:"/storage/profile_image/"+t.value.editor.image},null,8,["src"])):(l(),s(c,{key:1,src:d(z)},null,8,["src"]))]),_:1}),o("span",de,i(t.value.editor.firstname)+" "+i((r=t.value.editor)==null?void 0:r.middlename)+" "+i(t.value.editor.lastname),1)]}),_:1})]),_:1})]),_:1})]),_:1})):w("",!0),e(k,{title:"Client",class:"mt-5"},{default:a(()=>[e(v),e(g,null,{default:a(()=>[e(_,null,{default:a(()=>[e(n,null,{default:a(()=>{var r;return[e(V,{color:"primary",variant:"tonal"},{default:a(()=>[t.value.client.image?(l(),s(c,{key:0,src:"/storage/profile_image/"+t.value.client.image},null,8,["src"])):(l(),s(c,{key:1,src:d(z)},null,8,["src"]))]),_:1}),o("span",ce,i(t.value.client.firstname)+" "+i((r=t.value.client)==null?void 0:r.middlename)+" "+i(t.value.client.lastname),1)]}),_:1})]),_:1}),e(v,{class:"mb-5 mt-5"}),e(_,null,{default:a(()=>[e(n,null,{default:a(()=>[t.value.client.status=="Disabled"?(l(),s(V,{key:0,color:"error",variant:"tonal"},{default:a(()=>[e(m,null,{default:a(()=>[u("material-symbols:person-cancel-outline-rounded")]),_:1})]),_:1})):(l(),s(V,{key:1,color:"primary",variant:"tonal"},{default:a(()=>[e(m,null,{default:a(()=>[u("material-symbols:person-check-outline")]),_:1})]),_:1}))]),_:1}),t.value?(l(),s(n,{key:0},{default:a(()=>[e(Q,{style:{"margin-left":"-75%","margin-top":"5%"}},{default:a(()=>[u(i(t.value.client.status),1)]),_:1})]),_:1})):w("",!0)]),_:1}),e(v,{class:"mb-5 mt-5"}),e(_,null,{default:a(()=>[e(n,null,{default:a(()=>[me]),_:1})]),_:1}),t.value!=null?(l(),s(n,{key:0},{default:a(()=>{var r;return[o("span",null,[e(m,null,{default:a(()=>[u(" material-symbols:alternate-email-rounded")]),_:1}),u(" "+i(t.value.client.users.email),1)]),_e,pe,o("span",null,[e(m,null,{default:a(()=>[u("material-symbols:smartphone-sharp")]),_:1}),u(" "+i((r=t.value.client)==null?void 0:r.contact),1)])]}),_:1})):w("",!0)]),_:1})]),_:1})]),_:1})):w("",!0)]),_:1})]),_:1})):(l(),s(g,{key:2},{default:a(()=>[o("div",fe,[e(E,{"error-title":"You are not authorized! \u{1F510}","error-description":`You do not have permission to view this page using the credentials that you have provided while login.\r
      Please contact your site administrator.`}),o("div",ve,[e(S,{to:"/editor/publish/upload_documents",class:"mb-12"},{default:a(()=>[u(" Back ")]),_:1})]),o("div",ge,[e(c,{src:d(re),alt:"Coming Soon","max-width":590,class:"mx-auto"},null,8,["src"])]),e(c,{src:d(R),class:"misc-footer-img d-none d-md-block"},null,8,["src"])])]),_:1}))]),_:1}),e(X,{modelValue:y.value,"onUpdate:modelValue":b[1]||(b[1]=r=>y.value=r),scrollable:"","max-width":"450"},{default:a(()=>[e(oe,{row:T.value,onClose:b[0]||(b[0]=r=>y.value=!1),onHandleData:B},null,8,["row"])]),_:1},8,["modelValue"])])}}});const Ie=le(he,[["__scopeId","data-v-67600339"]]);export{Ie as default};
