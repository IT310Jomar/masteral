import{d as Z,a as n,aO as T,o as Q,bM as W,Z as K,c as _,e as v,f as t,w as l,l as X,M as e,aZ as U,aI as ee,s as i,aD as x,S as te,q as ae,bs as se,F as le,G as oe,W as r,a8 as ne,i as b,z as ie,A as L,a3 as N,a4 as de,a5 as re,a6 as ce,k as ue,a1 as pe,bI as me,bH as _e,bt as ve,p as fe,a9 as he,C as z,D as j,aF as ge,aG as Ve,U as xe}from"./main.dc3150f2.js";import ye from"./viewRequestsApproved.d42fd2ef.js";import{h as be}from"./moment.40bc58bf.js";import"./DialogCloseBtn.vue_vue_type_script_setup_true_lang.d9594284.js";import"./vue3-pdf-app.umd.bbeacf02.js";/* empty css             */const I=f=>(ge("data-v-30a19ce1"),f=f(),Ve(),f),Ie={class:"me-3",style:{display:"flex",width:"10.5rem","align-items":"center"}},Me=I(()=>e("strong",null,"Show",-1)),Se=I(()=>e("strong",null,"entries",-1)),ke={class:"app-user-search-filter d-flex align-center flex-wrap gap-4 justify-end"},Pe={style:{display:"flex",width:"17rem","align-items":"center"}},De=I(()=>e("thead",null,[e("tr",null,[e("th",{class:"text-center"},"No."),e("th",{class:"text-center"},"Editor"),e("th",{class:"text-center"},"Date and Time of Requests"),e("th",{class:"text-center"},"Uploaded Journal"),e("th",{class:"text-center"},"Request Status"),e("th",null,"Action")])],-1)),qe={class:"text-center"},Ce={class:"text-center"},Re={class:"text-center"},we={class:"text-center"},Ae={class:"text-center"},Te={key:0,class:"tooltip"},Ue={key:0},Le={colspan:"8"},Ne={style:{"text-align":"center"},class:"mb-5 mt-5"},ze=Z({__name:"approved",setup(f){const c=n([]),B=n(),u=n(null),M=n(1),S=[5,20,50,100,500],p=n(S[0]);n(p.value);const h=n(M),y=n(p),k=JSON.parse(localStorage.getItem("accessToken")||"{}"),F=T(()=>{const a=(M.value-1)*p.value,s=a+p.value;return c.value.slice(a,s)});let J=T(()=>c.value.length>0?Math.ceil(c.value.length/p.value):0);function Y(){h.value=1}const P=JSON.parse(localStorage.getItem("clientData")||"{}"),D=()=>{z.get(j.API_URL+"client/client/get-journal-requested-list/"+P[0].id,{params:{token:k}}).then(a=>{a.data.success&&(c.value=a.data.approved)})},g=n(null),$=a=>{g.value=a},E=a=>{g.value===a&&(g.value=null)};Q(()=>{D()});const O=()=>{z.get(j.API_URL+"client/client/get-search-journal-requested-list/"+P[0].id,{params:{query:u.value,token:k}}).then(a=>{a.data.success&&(c.value=a.data.approved)}).catch(a=>{console.log("Error")})},G=W.exports.debounce(()=>{u.value===""?D():O()});K([u],G);const m=n(!1),q=n(),H=a=>{m.value=!0,q.value=a};return(a,s)=>(_(),v("section",null,[t(fe,{title:"My Approved Requests"},{default:l(()=>[t(X,{class:"d-flex flex-wrap py-4 px-4 gap-2"},{default:l(()=>[e("div",Ie,[t(U,{style:{"font-size":"small"},class:"mr-1"},{default:l(()=>[Me]),_:1}),t(ee,{modelValue:i(y),"onUpdate:modelValue":[s[0]||(s[0]=o=>x(y)?y.value=o:null),Y],items:S},null,8,["modelValue"]),t(U,{style:{"font-size":"small"},class:"ml-1"},{default:l(()=>[Se]),_:1})]),t(te),e("div",ke,[e("div",Pe,[t(ae,{modelValue:i(u),"onUpdate:modelValue":s[1]||(s[1]=o=>x(u)?u.value=o:null),label:"Search",class:"search-field",solo:"","append-inner-icon":"mdi-magnify",density:"compact"},null,8,["modelValue"])])])]),_:1}),t(se,{ref_key:"tableRef",ref:B},{default:l(()=>{var o;return[De,e("tbody",null,[(_(!0),v(le,null,oe(i(F),(d,V)=>{var C,R,w;return _(),v("tr",{key:d.id},[e("td",qe,r(V+1),1),e("td",Ce,r((C=d.editor)==null?void 0:C.lastname)+" "+r((R=d.editor)==null?void 0:R.firstname)+" "+r((w=d.editor)==null?void 0:w.middlename),1),e("td",Re,r(i(be)(d.date_time_requests).format("MMMM DD, YYYY h:mm A")),1),e("td",we,r(d.uploaded_file),1),e("td",Ae,[t(ne,{color:"success",variant:"outlined"},{default:l(()=>[b(r(d==null?void 0:d.request_status),1)]),_:2},1024)]),e("td",null,[t(ie,{icon:"",size:"x-small",variant:"text",class:"icon-container"},{default:l(()=>[t(L,{icon:"tabler-table-options",size:"22",onMouseenter:A=>$(V),onMouseleave:A=>E(V)},null,8,["onMouseenter","onMouseleave"]),i(g)===V?(_(),v("span",Te,"Click Me")):N("",!0),t(de,{activator:"parent"},{default:l(()=>[t(re,null,{default:l(()=>[t(ce,{onClick:ue(A=>H(d.id),["prevent"])},{default:l(()=>[t(L,null,{default:l(()=>[b("tabler:eye")]),_:1}),b(" View Journal ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)])])}),128))]),((o=i(c))==null?void 0:o.length)==0?(_(),v("tfoot",Ue,[e("tr",null,[e("td",Le,[e("div",Ne,[t(pe,{src:i(me),style:{display:"inline-block","max-width":"100%",width:"35%",height:"55%","object-fit":"cover"}},null,8,["src"]),t(_e,{color:"primary",indeterminate:"",reverse:""})])])])])):N("",!0)]}),_:1},512),t(ve,{length:i(J),modelValue:i(h),"onUpdate:modelValue":s[2]||(s[2]=o=>x(h)?h.value=o:null)},null,8,["length","modelValue"])]),_:1}),t(he,{scrollable:"",modelValue:i(m),"onUpdate:modelValue":s[4]||(s[4]=o=>x(m)?m.value=o:null),"max-width":"1000"},{default:l(()=>[t(ye,{row:i(q),onClose:s[3]||(s[3]=o=>m.value=!1)},null,8,["row"])]),_:1},8,["modelValue"])]))}});const Ee=xe(ze,[["__scopeId","data-v-30a19ce1"]]);export{Ee as default};
