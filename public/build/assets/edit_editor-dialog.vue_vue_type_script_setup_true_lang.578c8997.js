import{d as R,a as s,o as q,c as z,e as A,f as e,w as a,n as r,p as H,y,l as N,s as u,j as O,k as P,m,q as b,t as x,aD as n,aH as $,z as j,i as S,B,aJ as J,a9 as Y,C as h,D as G}from"./main.dc3150f2.js";import{_ as K}from"./DialogCloseBtn.vue_vue_type_script_setup_true_lang.d9594284.js";const X=R({__name:"edit_editor-dialog",props:["row"],emits:["close","handledata"],setup(D,{emit:C}){const d=D,k=s(),f=s(!1),_=s(!1),w=s(!1);s(!1);const c=s(),V=s(),v=s(),i=s(),p=s(),F=()=>{f.value=!0},E=()=>{f.value=!1},I=o=>/^[0-9]*$/.test(o)||"Only numbers are allowed.",M=()=>{h.put(G.API_URL+"auth/admin/edit-editor/"+d.row.id,{email:p.value,firstname:c.value,lastname:V.value,middlename:v.value,contact_number:i.value}).then(o=>{o.data.success&&(C("close"),C("handledata",o.data))}).catch(o=>{if(o.response){const l=o.response.data.message;alert(l)}else console.error("An error occurred:",o.message)})},T=()=>{var o;F(),(o=k.value)==null||o.validate().then(({valid:l})=>{l?(M(),_.value=!0,E()):(w.value=!0,E())})},L=()=>{C("close")};return q(()=>{var o,l,g,t,U;d.row!=null&&(c.value=(o=d.row)==null?void 0:o.firstname,V.value=(l=d.row)==null?void 0:l.lastname,v.value=(g=d.row)==null?void 0:g.middlename,i.value=(t=d.row)==null?void 0:t.contact,p.value=(U=d.row)==null?void 0:U.users.email)}),(o,l)=>{const g=K;return z(),A("section",null,[e(g,{onClick:L}),e(m,null,{default:a(()=>[e(r,null,{default:a(()=>[e(H,{height:"520px",class:"d-flex flex-column flex-grow-1 overflow-auto",title:"Edit Infomation Editor"},{default:a(()=>[e(y,{class:"mt-4"}),e(N,null,{default:a(()=>[e(u(O),{ref_key:"refsubmit",ref:k,onSubmit:P(T,["prevent"])},{default:a(()=>[e(m,null,{default:a(()=>[e(N,null,{default:a(()=>[e(m,null,{default:a(()=>[e(r,{class:"mb-2"},{default:a(()=>[e(b,{rules:[u(x)],modelValue:u(c),"onUpdate:modelValue":l[0]||(l[0]=t=>n(c)?c.value=t:null),label:"First Name"},null,8,["rules","modelValue"])]),_:1})]),_:1}),e(m,null,{default:a(()=>[e(r,{class:"mb-2"},{default:a(()=>[e(b,{modelValue:u(v),"onUpdate:modelValue":l[1]||(l[1]=t=>n(v)?v.value=t:null),label:"Middle Name"},null,8,["modelValue"])]),_:1})]),_:1}),e(m,null,{default:a(()=>[e(r,{class:"mb-2"},{default:a(()=>[e(b,{rules:[u(x)],modelValue:u(V),"onUpdate:modelValue":l[2]||(l[2]=t=>n(V)?V.value=t:null),label:"Last Name"},null,8,["rules","modelValue"])]),_:1})]),_:1}),e(m,null,{default:a(()=>[e(r,{sm:"3.5",md:"3.5",class:"mb-2"},{default:a(()=>[e(b,{rules:[u(x),I,()=>u(i).length<11&&"Invalid Contact Number."],modelValue:u(i),"onUpdate:modelValue":l[3]||(l[3]=t=>n(i)?i.value=t:null),label:"Contact Number"},null,8,["rules","modelValue"])]),_:1})]),_:1}),e(m,null,{default:a(()=>[e(r,{cols:"12"},{default:a(()=>[e(b,{modelValue:u(p),"onUpdate:modelValue":l[4]||(l[4]=t=>n(p)?p.value=t:null),rules:[u(x),u($)],label:"Email",type:"email",readonly:""},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1})]),_:1}),e(y),e(r,{class:"mt-5",style:{"text-align":"right"}},{default:a(()=>[e(j,{type:"submit",size:"large"},{default:a(()=>[S(" Submit")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1}),e(B,{modelValue:u(_),"onUpdate:modelValue":l[5]||(l[5]=t=>n(_)?_.value=t:null),timeout:4e3,color:"success"},{default:a(()=>[S(" Success! Editor Information Edited. ")]),_:1},8,["modelValue"]),e(B,{modelValue:u(w),"onUpdate:modelValue":l[6]||(l[6]=t=>n(w)?w.value=t:null),timeout:4e3,color:"error"},{default:a(()=>[S(" Erorr! Please Check Your Field. ")]),_:1},8,["modelValue"]),e(Y,{modelValue:u(f),"onUpdate:modelValue":l[7]||(l[7]=t=>n(f)?f.value=t:null),"max-width":"300"},{default:a(()=>[e(J)]),_:1},8,["modelValue"])])}}});export{X as _};
