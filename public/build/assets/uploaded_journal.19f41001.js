import{d as Be,a as u,aO as R,bM as G,Z as O,C as Y,D as $,o as He,c as i,e as _,f as t,w as a,i as r,ay as Je,b8 as Z,p as K,l as X,M as e,aZ as P,aI as w,S as ee,q as te,bs as ae,n as le,a1 as D,s as p,bJ as se,F as ne,G as oe,W as d,E as f,a8 as h,a3 as c,z as de,A as g,a4 as ue,a5 as ie,a6 as E,bI as re,bH as ce,bt as _e,k as Qe,b9 as We,a9 as be,aF as Ge,aG as Oe,U as Ze}from"./main.dc3150f2.js";import{h as pe}from"./moment.40bc58bf.js";import{_ as Ke}from"./editEditorDialog.vue_vue_type_script_setup_true_lang.f233aee0.js";import Xe from"./reject_request-dialog.5210af89.js";import{V as me,a as we}from"./VTabs.8352486c.js";import"./DialogCloseBtn.vue_vue_type_script_setup_true_lang.d9594284.js";import"./validationRejected.vue_vue_type_script_setup_true_lang.ec5cc3a1.js";import"./VTextarea.f3ff2a93.js";const x=L=>(Ge("data-v-ffc04949"),L=L(),Oe(),L),et={class:"me-3",style:{width:"10.5rem",display:"flex","align-items":"center"}},tt=x(()=>e("strong",null,"Show",-1)),at=x(()=>e("strong",null,"entries",-1)),lt={class:"app-user-search-filter d-flex align-center flex-wrap gap-4 justify-end"},st={style:{width:"17rem",display:"flex","align-items":"center"}},nt=x(()=>e("thead",null,[e("tr",null,[e("th",{class:"text-center"},"No."),e("th",{class:"text-center"},"Client Fullname"),e("th",{class:"text-center"},"Date of Request"),e("th",{class:"text-center"},"Uploaded File"),e("th",{class:"text-center"},"Status"),e("th",{class:"text-center"},"Action")])],-1)),ot={class:"text-center"},dt={class:"text-center"},ut={class:"text-center"},it={class:"text-center"},rt={class:"text-center"},ct={class:"text-center"},_t={key:0,class:"tooltip"},pt={key:0},mt={colspan:"8"},vt={style:{"text-align":"center"},class:"mb-5 mt-5"},ft={class:"me-3",style:{width:"10.5rem",display:"flex","align-items":"center"}},ht=x(()=>e("strong",null,"Show",-1)),gt=x(()=>e("strong",null,"entries",-1)),xt={class:"app-user-search-filter d-flex align-center flex-wrap gap-4 justify-end"},yt={style:{width:"17rem",display:"flex","align-items":"center"}},Vt=x(()=>e("thead",null,[e("tr",null,[e("th",{class:"text-center"},"No."),e("th",{class:"text-center"},"Client Fullname"),e("th",{class:"text-center"},"Editor Fullname"),e("th",{class:"text-center"},"Date of Request"),e("th",{class:"text-center"},"Uploaded File"),e("th",{class:"text-center"},"Status"),e("th",{class:"text-center"},"Action")])],-1)),bt={class:"text-center"},kt={class:"text-center"},qt={class:"text-center"},jt={key:0},Mt={class:"ml-1"},Rt={key:1},Pt={class:"text-center"},Dt={class:"text-center"},At={class:"text-center"},It={class:"text-center"},Ct={key:0,class:"tooltip"},Ut={key:0},St={colspan:"8"},Lt={style:{"text-align":"center"},class:"mb-5 mt-5"},zt={class:"me-3",style:{width:"10.5rem",display:"flex","align-items":"center"}},Ft=x(()=>e("strong",null,"Show",-1)),Tt=x(()=>e("strong",null,"entries",-1)),Yt={class:"app-user-search-filter d-flex align-center flex-wrap gap-4 justify-end"},$t={style:{width:"17rem",display:"flex","align-items":"center"}},Et=x(()=>e("thead",null,[e("tr",null,[e("th",{class:"text-center"},"No."),e("th",{class:"text-center"},"Client Fullname"),e("th",{class:"text-center"},"Date of Request"),e("th",{class:"text-center"},"Uploaded File"),e("th",{class:"text-center"},"Status"),e("th",{class:"text-center"},"Reasons"),e("th",{class:"text-center"},"Action")])],-1)),Nt={class:"text-center"},Bt={class:"text-center"},Ht={class:"text-center"},Jt={class:"text-center"},Qt={class:"text-center"},Wt={class:"text-center"},Gt={class:"text-center"},Ot={key:0,class:"tooltip"},Zt={key:0},Kt={colspan:"8"},Xt={style:{"text-align":"center"},class:"mb-5 mt-5"},wt=Be({__name:"uploaded_journal",setup(L){const z=JSON.parse(localStorage.getItem("accessToken")||"{}"),A=u(),N=u(),I=u(null),C=u(null),U=u(null),V=u(1),b=[5,20,50,100,500],v=u(b[0]),ke=u(b[0]),qe=u(b[0]);u(v.value);const B=u(V),H=u(V),J=u(V);u();const ve=u(v),fe=u(ke),he=u(qe);u();const je=R(()=>{const o=(V.value-1)*v.value,s=o+v.value;return q.value.slice(o,s)});let Me=R(()=>q.value.length>0?Math.ceil(q.value.length/v.value):0);const Re=R(()=>{const o=(V.value-1)*v.value,s=o+v.value;return j.value.slice(o,s)});let Pe=R(()=>j.value.length>0?Math.ceil(j.value.length/v.value):0);const De=R(()=>{const o=(V.value-1)*v.value,s=o+v.value;return M.value.slice(o,s)});let Ae=R(()=>M.value.length>0?Math.ceil(M.value.length/v.value):0);function Ie(){B.value=1}function Ce(){H.value=1}function Ue(){J.value=1}const Se=()=>{Y.get($.API_URL+"auth/admin/search-uploaded-journal",{params:{query:I.value,token:z}}).then(o=>{o.data.success&&(q.value=o.data.searchPending)}).catch(o=>{console.log("Error")})},Le=G.exports.debounce(()=>{I.value===""?S():Se()});O([I],Le);const ze=()=>{Y.get($.API_URL+"auth/admin/search-uploaded-journal",{params:{query:C.value,token:z}}).then(o=>{o.data.success&&(j.value=o.data.searchApproved)}).catch(o=>{console.log("Error")})},Fe=G.exports.debounce(()=>{C.value===""?S():ze()});O([C],Fe);const Te=()=>{Y.get($.API_URL+"auth/admin/search-uploaded-journal",{params:{query:U.value,token:z}}).then(o=>{o.data.success&&(M.value=o.data.searchRejected)}).catch(o=>{console.log("Error")})},Ye=G.exports.debounce(()=>{U.value===""?S():Te()});O([U],Ye);const k=u(null),Q=o=>{k.value=o},W=o=>{k.value===o&&(k.value=null)};u(!1);const ge=u(),F=u(!1),$e=o=>{ge.value=o,F.value=!0};u(!1);const q=u([]),j=u([]),M=u([]),S=()=>{Y.get($.API_URL+"auth/admin/get-uploaded-journal-lists",{params:{token:z}}).then(o=>{o.data.success&&(q.value=o.data.pendingdata,j.value=o.data.approveddata,M.value=o.data.rejecteddata)})},xe=()=>{S()},Ee=()=>{S()};He(()=>{xe()});const T=u(!1),ye=u(),Ve=u(),Ne=(o,s)=>{T.value=!0,ye.value=o,Ve.value=s};return(o,s)=>(i(),_("section",null,[t(Je,null,{default:a(()=>[r("Uploaded Journal List")]),_:1}),t(we,{modelValue:A.value,"onUpdate:modelValue":s[0]||(s[0]=n=>A.value=n),class:"mt-5 mb-5"},{default:a(()=>[t(me,{value:"pending"},{default:a(()=>[r(" Pending")]),_:1}),t(me,{value:"approved"},{default:a(()=>[r(" Approved")]),_:1}),t(me,{value:"rejected"},{default:a(()=>[r("Rejected")]),_:1})]),_:1},8,["modelValue"]),t(We,{modelValue:A.value,"onUpdate:modelValue":s[10]||(s[10]=n=>A.value=n)},{default:a(()=>[t(Z,{value:"pending"},{default:a(()=>[t(K,{title:"Pending List"},{default:a(()=>[t(X,{class:"d-flex flex-wrap py-4 px-4 gap-2"},{default:a(()=>[e("div",et,[t(P,{style:{"font-size":"small"},class:"mr-1"},{default:a(()=>[tt]),_:1}),t(w,{modelValue:ve.value,"onUpdate:modelValue":[s[1]||(s[1]=n=>ve.value=n),Ie],items:b},null,8,["modelValue"]),t(P,{style:{"font-size":"small"},class:"ml-1"},{default:a(()=>[at]),_:1})]),t(ee),e("div",lt,[e("div",st,[t(te,{modelValue:I.value,"onUpdate:modelValue":s[2]||(s[2]=n=>I.value=n),label:"Search",class:"search-field",solo:"","append-inner-icon":"mdi-magnify",density:"compact"},null,8,["modelValue"])])])]),_:1}),t(ae,{ref_key:"tableRef",ref:N},{default:a(()=>{var n;return[t(le,{hidden:"",class:"mb-5"},{default:a(()=>[t(D,{src:p(se),alt:"Dit.Ads Logo",class:"logo"},null,8,["src"])]),_:1}),nt,e("tbody",null,[(i(!0),_(ne,null,oe(p(je),(l,m)=>(i(),_("tr",{key:l.id},[e("td",ot,d(m+1),1),e("td",dt,d(l.client.firstname)+" "+d(l.client.middlename)+" "+d(l.client.lastname),1),e("td",ut,d(p(pe)(l.date_time_requests).format("MMMM DD, YYYY")),1),e("td",it,d(l.uploaded_file),1),e("td",rt,[l.request_status=="Approved"?(i(),f(h,{key:0,color:"success",variant:"outlined"},{default:a(()=>[r(d(l.request_status),1)]),_:2},1024)):c("",!0),l.request_status=="Pending"?(i(),f(h,{key:1,color:"warning",variant:"outlined"},{default:a(()=>[r(d(l.request_status),1)]),_:2},1024)):c("",!0),l.request_status=="Rejected"?(i(),f(h,{key:2,color:"error",variant:"outlined"},{default:a(()=>[r(d(l.request_status),1)]),_:2},1024)):c("",!0)]),e("td",ct,[t(de,{icon:"",size:"x-small",variant:"text",class:"icon-container"},{default:a(()=>[t(g,{icon:"tabler-table-options",size:"22",onMouseenter:y=>Q(m),onMouseleave:y=>W(m)},null,8,["onMouseenter","onMouseleave"]),k.value===m?(i(),_("span",_t,"Click Me")):c("",!0),t(ue,{activator:"parent"},{default:a(()=>[t(ie,null,{default:a(()=>[t(E,{to:"/admin/request/RequestDialog/approved-request/"+l.id},{default:a(()=>[t(g,null,{default:a(()=>[r("solar:like-broken")]),_:1}),r(" Approve ")]),_:2},1032,["to"]),l.editor_status=="Pending"?(i(),f(E,{key:0,onClick:y=>$e(l)},{default:a(()=>[t(g,null,{default:a(()=>[r("solar:dislike-outline")]),_:1}),r(" Reject ")]),_:2},1032,["onClick"])):c("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)])]))),128))]),((n=q.value)==null?void 0:n.length)==0?(i(),_("tfoot",pt,[e("tr",null,[e("td",mt,[e("div",vt,[t(D,{src:p(re),style:{display:"inline-block","max-width":"100%",width:"35%",height:"55%","object-fit":"cover"}},null,8,["src"]),t(ce,{color:"primary",indeterminate:"",reverse:""})])])])])):c("",!0)]}),_:1},512),t(_e,{length:p(Me),modelValue:B.value,"onUpdate:modelValue":s[3]||(s[3]=n=>B.value=n)},null,8,["length","modelValue"])]),_:1})]),_:1}),t(Z,{value:"approved"},{default:a(()=>[t(K,{title:"Approved List"},{default:a(()=>[t(X,{class:"d-flex flex-wrap py-4 px-4 gap-2"},{default:a(()=>[e("div",ft,[t(P,{style:{"font-size":"small"},class:"mr-1"},{default:a(()=>[ht]),_:1}),t(w,{modelValue:fe.value,"onUpdate:modelValue":[s[4]||(s[4]=n=>fe.value=n),Ce],items:b},null,8,["modelValue"]),t(P,{style:{"font-size":"small"},class:"ml-1"},{default:a(()=>[gt]),_:1})]),t(ee),e("div",xt,[e("div",yt,[t(te,{modelValue:C.value,"onUpdate:modelValue":s[5]||(s[5]=n=>C.value=n),label:"Search",class:"search-field",solo:"","append-inner-icon":"mdi-magnify",density:"compact"},null,8,["modelValue"])])])]),_:1}),t(ae,{ref_key:"tableRef",ref:N},{default:a(()=>{var n;return[t(le,{hidden:"",class:"mb-5"},{default:a(()=>[t(D,{src:p(se),alt:"Dit.Ads Logo",class:"logo"},null,8,["src"])]),_:1}),Vt,e("tbody",null,[(i(!0),_(ne,null,oe(p(Re),(l,m)=>(i(),_("tr",{key:l.id},[e("td",bt,d(m+1),1),e("td",kt,d(l.client.firstname)+" "+d(l.client.middlename)+" "+d(l.client.lastname),1),e("td",qt,[r(d(l.editor.firstname)+" "+d(l.editor.middlename)+" "+d(l.editor.lastname),1),l.release_status==1?(i(),_("sup",jt,[e("span",Mt,[t(g,{onClick:Qe(y=>Ne(l.id,l.editor_id),["prevent"]),color:"warning"},{default:a(()=>[r("tabler:edit")]),_:2},1032,["onClick"])])])):(i(),_("sup",Rt,[e("span",null,[t(g,{color:"success"},{default:a(()=>[r("tabler:check")]),_:1})])]))]),e("td",Pt,d(p(pe)(l.date_time_requests).format("MMMM DD, YYYY")),1),e("td",Dt,d(l.uploaded_file),1),e("td",At,[l.request_status=="Approved"?(i(),f(h,{key:0,color:"success",variant:"outlined"},{default:a(()=>[r(d(l.request_status),1)]),_:2},1024)):c("",!0),l.request_status=="Pending"?(i(),f(h,{key:1,color:"warning",variant:"outlined"},{default:a(()=>[r(d(l.request_status),1)]),_:2},1024)):c("",!0),l.request_status=="Rejected"?(i(),f(h,{key:2,color:"error",variant:"outlined"},{default:a(()=>[r(d(l.request_status),1)]),_:2},1024)):c("",!0)]),e("td",It,[t(de,{icon:"",size:"x-small",variant:"text",class:"icon-container"},{default:a(()=>[t(g,{icon:"tabler-table-options",size:"22",onMouseenter:y=>Q(m),onMouseleave:y=>W(m)},null,8,["onMouseenter","onMouseleave"]),k.value===m?(i(),_("span",Ct,"Click Me")):c("",!0),t(ue,{activator:"parent"},{default:a(()=>[t(ie,null,{default:a(()=>[t(E,{to:"/admin/request/RequestDialog/view-request/"+l.id},{default:a(()=>[t(g,null,{default:a(()=>[r("material-symbols:visibility-outline-rounded")]),_:1}),r(" View ")]),_:2},1032,["to"])]),_:2},1024)]),_:2},1024)]),_:2},1024)])]))),128))]),((n=j.value)==null?void 0:n.length)==0?(i(),_("tfoot",Ut,[e("tr",null,[e("td",St,[e("div",Lt,[t(D,{src:p(re),style:{display:"inline-block","max-width":"100%",width:"35%",height:"55%","object-fit":"cover"}},null,8,["src"]),t(ce,{color:"primary",indeterminate:"",reverse:""})])])])])):c("",!0)]}),_:1},512),t(_e,{length:p(Pe),modelValue:H.value,"onUpdate:modelValue":s[6]||(s[6]=n=>H.value=n)},null,8,["length","modelValue"])]),_:1})]),_:1}),t(Z,{value:"rejected"},{default:a(()=>[t(K,{title:"Rejected List"},{default:a(()=>[t(X,{class:"d-flex flex-wrap py-4 px-4 gap-2"},{default:a(()=>[e("div",zt,[t(P,{style:{"font-size":"small"},class:"mr-1"},{default:a(()=>[Ft]),_:1}),t(w,{modelValue:he.value,"onUpdate:modelValue":[s[7]||(s[7]=n=>he.value=n),Ue],items:b},null,8,["modelValue"]),t(P,{style:{"font-size":"small"},class:"ml-1"},{default:a(()=>[Tt]),_:1})]),t(ee),e("div",Yt,[e("div",$t,[t(te,{modelValue:U.value,"onUpdate:modelValue":s[8]||(s[8]=n=>U.value=n),label:"Search",class:"search-field",solo:"","append-inner-icon":"mdi-magnify",density:"compact"},null,8,["modelValue"])])])]),_:1}),t(ae,{ref_key:"tableRef",ref:N},{default:a(()=>{var n;return[t(le,{hidden:"",class:"mb-5"},{default:a(()=>[t(D,{src:p(se),alt:"Dit.Ads Logo",class:"logo"},null,8,["src"])]),_:1}),Et,e("tbody",null,[(i(!0),_(ne,null,oe(p(De),(l,m)=>(i(),_("tr",{key:l.id},[e("td",Nt,d(m+1),1),e("td",Bt,d(l.client.firstname)+" "+d(l.client.middlename)+" "+d(l.client.lastname),1),e("td",Ht,d(p(pe)(l.date_time_requests).format("MMMM DD, YYYY")),1),e("td",Jt,d(l.uploaded_file),1),e("td",Qt,[l.request_status=="Approved"?(i(),f(h,{key:0,color:"success",variant:"outlined"},{default:a(()=>[r(d(l.request_status),1)]),_:2},1024)):c("",!0),l.request_status=="Pending"?(i(),f(h,{key:1,color:"warning",variant:"outlined"},{default:a(()=>[r(d(l.request_status),1)]),_:2},1024)):c("",!0),l.request_status=="Rejected"?(i(),f(h,{key:2,color:"error",variant:"outlined"},{default:a(()=>[r(d(l.request_status),1)]),_:2},1024)):c("",!0)]),e("td",Wt,d(l.notes),1),e("td",Gt,[t(de,{icon:"",size:"x-small",variant:"text",class:"icon-container"},{default:a(()=>[t(g,{icon:"tabler-table-options",size:"22",onMouseenter:y=>Q(m),onMouseleave:y=>W(m)},null,8,["onMouseenter","onMouseleave"]),k.value===m?(i(),_("span",Ot,"Click Me")):c("",!0),t(ue,{activator:"parent"},{default:a(()=>[t(ie,null,{default:a(()=>[t(E,{to:"/admin/request/RequestDialog/view-request/"+l.id},{default:a(()=>[t(g,null,{default:a(()=>[r("material-symbols:visibility-outline-rounded")]),_:1}),r(" View ")]),_:2},1032,["to"])]),_:2},1024)]),_:2},1024)]),_:2},1024)])]))),128))]),((n=M.value)==null?void 0:n.length)==0?(i(),_("tfoot",Zt,[e("tr",null,[e("td",Kt,[e("div",Xt,[t(D,{src:p(re),style:{display:"inline-block","max-width":"100%",width:"35%",height:"55%","object-fit":"cover"}},null,8,["src"]),t(ce,{color:"primary",indeterminate:"",reverse:""})])])])])):c("",!0)]}),_:1},512),t(_e,{length:p(Ae),modelValue:J.value,"onUpdate:modelValue":s[9]||(s[9]=n=>J.value=n)},null,8,["length","modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(be,{modelValue:F.value,"onUpdate:modelValue":s[13]||(s[13]=n=>F.value=n),"max-width":"450"},{default:a(()=>[t(Xe,{row:ge.value,onClose:s[11]||(s[11]=n=>F.value=!1),onHandledata:xe,onCurrentTab:s[12]||(s[12]=n=>A.value="rejected")},null,8,["row"])]),_:1},8,["modelValue"]),t(be,{modelValue:T.value,"onUpdate:modelValue":s[15]||(s[15]=n=>T.value=n),"max-width":"450"},{default:a(()=>[t(Ke,{onClose:s[14]||(s[14]=n=>T.value=!1),row:ye.value,onEditedData:Ee,dataId:Ve.value},null,8,["row","dataId"])]),_:1},8,["modelValue"])]))}});const ua=Ze(wt,[["__scopeId","data-v-ffc04949"]]);export{ua as default};
