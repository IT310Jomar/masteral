import{d as z,a as u,c as D,e as R,f as e,w as t,y as v,s as _,j as I,k as K,l as V,m as x,n as S,t as P,z as g,i as n,p as E,B as F,aJ as T,a9 as A,C as L,D as N,U as j}from"./main.dc3150f2.js";import{V as q}from"./VFileInput.a98189c2.js";const J=z({__name:"reupload",props:["row"],emits:["close","handleData"],setup(b,{emit:f}){const h=b,c=u(),p=()=>{f("close")},s=u(null),w=u(null),C=()=>{if(s.value&&s.value.files&&s.value.files.length>0){const o=s.value.files[0],l=new FileReader;l.onload=a=>{a.target&&typeof a.target.result=="string"&&(w.value=a.target.result)},l.readAsDataURL(o)}},k=()=>s.value&&s.value.files&&s.value.files[0].size>2097152?`File size must be less than ${2048} KB`:!0,r=u(!1),i=u(!1),d=u(!1),y=()=>{r.value=!0},m=()=>{r.value=!1},B=()=>{var l;const o=new FormData;if(((l=s.value)==null?void 0:l.files)&&s.value.files.length>0){const a=s.value.files[0];o.append("filepdf",a)}L.post(N.API_URL+"client/client/post-re-uploadpdf/"+h.row,o).then(a=>{a.data.success&&(f("handleData",a.data),p())})},U=()=>{var o;y(),(o=c.value)==null||o.validate().then(({valid:l})=>{l?(B(),i.value=!0,m()):(d.value=!0,m())})};return(o,l)=>(D(),R("section",null,[e(E,{title:"Re-Upload PDF File",class:"d-flex flex-column flex-grow-1 overflow-auto"},{default:t(()=>[e(v),e(_(I),{ref_key:"refsubmit",ref:c,onSubmit:K(U,["prevent"])},{default:t(()=>[e(V,null,{default:t(()=>[e(x,null,{default:t(()=>[e(S,{class:"mb-2"},{default:t(()=>[e(q,{accept:".pdf",ref_key:"fileInputFile",ref:s,chips:"",rules:[_(P),k],label:"Select File",onChange:C,"prepend-icon":"tabler:file-type-pdf"},null,8,["rules"])]),_:1})]),_:1})]),_:1}),e(v),e(V,null,{default:t(()=>[e(x,null,{default:t(()=>[e(S,{class:"text-right"},{default:t(()=>[e(g,{class:"mr-1",type:"submit"},{default:t(()=>[n("Re-Upload")]),_:1}),e(g,{color:"error",onClick:p},{default:t(()=>[n("Cancel")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1}),e(F,{modelValue:i.value,"onUpdate:modelValue":l[0]||(l[0]=a=>i.value=a),timeout:4e3,color:"success"},{default:t(()=>[n(" Success! Re-Uploaded! ")]),_:1},8,["modelValue"]),e(F,{modelValue:d.value,"onUpdate:modelValue":l[1]||(l[1]=a=>d.value=a),timeout:4e3,color:"error"},{default:t(()=>[n(" Erorr! Please Check Your Field! ")]),_:1},8,["modelValue"]),e(A,{modelValue:r.value,"onUpdate:modelValue":l[2]||(l[2]=a=>r.value=a),"max-width":"300"},{default:t(()=>[e(T)]),_:1},8,["modelValue"])]))}});const $=j(J,[["__scopeId","data-v-5a674fd7"]]);export{$ as default};
